<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8e6d16c30a318632e6b9.css" id="gatsby-global-css">pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="icon" href="/favicon-32x32.png?v=fdc3be8e1936d723139249e23665dd77" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#0c9ee4"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fdc3be8e1936d723139249e23665dd77"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fdc3be8e1936d723139249e23665dd77"/><style type="text/css">
    .anchor-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor-header svg,
    h2 .anchor-header svg,
    h3 .anchor-header svg,
    h4 .anchor-header svg,
    h5 .anchor-header svg,
    h6 .anchor-header svg {
      visibility: hidden;
    }
    h1:hover .anchor-header svg,
    h2:hover .anchor-header svg,
    h3:hover .anchor-header svg,
    h4:hover .anchor-header svg,
    h5:hover .anchor-header svg,
    h6:hover .anchor-header svg,
    h1 .anchor-header:focus svg,
    h2 .anchor-header:focus svg,
    h3 .anchor-header:focus svg,
    h4 .anchor-header:focus svg,
    h5 .anchor-header:focus svg,
    h6 .anchor-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="alternate" type="application/rss+xml" title="Your Site&#x27;s RSS Feed" href="/rss.xml"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">[모니터링] Oauth 2.0 &amp; OpenID Connect 알아보기 | Jay 기술 블로그</title><link data-react-helmet="true" rel="canonical" href="https://won0935.github.io/category/monitoring/oauth2-openid/"/><meta data-react-helmet="true" name="description" content="회사에서 의 OpenId를 이용해 로그인 및 권한관리를 구현하려고 한다. 따라서 각 기술에 대해 공부해보았다. OAuth는 무엇인가? 은 위임 권한부여를 위한 표준 프로토콜이다.  OAuth는 어플리케이션이 사용자의 패스워드 없이 사용자의 데이터에 접근 가능하도록 허가해준다. OAuth…"/><meta data-react-helmet="true" property="og:title" content="[모니터링] Oauth 2.0 &amp; OpenID Connect 알아보기"/><meta data-react-helmet="true" property="og:description" content="회사에서 의 OpenId를 이용해 로그인 및 권한관리를 구현하려고 한다. 따라서 각 기술에 대해 공부해보았다. OAuth는 무엇인가? 은 위임 권한부여를 위한 표준 프로토콜이다.  OAuth는 어플리케이션이 사용자의 패스워드 없이 사용자의 데이터에 접근 가능하도록 허가해준다. OAuth…"/><meta data-react-helmet="true" property="og:image" content="https://won0935.github.io/images/ogp.png"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="google-site-verification" content="OxCmDAbFt_oP2EzYabwJiA4KNndMwAcKMQdvpa8vL6w"/><meta data-react-helmet="true" name="naver-site-verification" content="07c520f56835b243f94776be22c4cbcb671bbfe5"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","headline":"[모니터링] Oauth 2.0 & OpenID Connect 알아보기","image":"https://won0935.github.io/images/ogp.png","editor":"won0935","datePublished":"2022-01-29","dateCreated":"2022-01-29","dateModified":"2022-01-29","description":"회사에서 의 OpenId를 이용해 로그인 및 권한관리를 구현하려고 한다. 따라서 각 기술에 대해 공부해보았다. OAuth는 무엇인가? 은 위임 권한부여를 위한 표준 프로토콜이다.  OAuth는 어플리케이션이 사용자의 패스워드 없이 사용자의 데이터에 접근 가능하도록 허가해준다. OAuth…","author":{"@type":"Person","name":"won0935","image":"https://won0935.github.io/images/avatar.png"},"publisher":{"@type":"Organization","name":"won0935","logo":{"@type":"ImageObject","url":"https://won0935.github.io/images/avatar.png","width":150,"height":150}}}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://won0935.github.io","name":"HOME"}},{"@type":"ListItem","position":2,"item":{"@id":"https://won0935.github.io/monitoring","name":"모니터링"}},{"@type":"ListItem","position":3,"item":{"name":"[모니터링] Oauth 2.0 & OpenID Connect 알아보기"}}]}</script><style data-styled="fEdaQt ebovCZ iarFOA evPsmz kyfGjL gEBZRU fKTVbh boOHpQ gYZPam dYhQMO knVwJm dQJMGd hzEQGR ctKYlG fiFeft iRbQrG ifmpQu ggusaO fDIfyV fHkPwv kqnMjP XIZEq fTcnoY heGWde" data-styled-version="4.4.1">
/* sc-component-id: sc-global-2864780479 */
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;-webkit-tap-highlight-color:rgba(0,0,0,0);} html,body{height:100%;} body{--bg:#f5f5f5;--textNormal:#21242d;--headerBackground:#ffffff;--bioBackground:#f5f5f5;--bioColor:rgba(0,0,0,0.87);--bioHighlight:#000000;--categoryHeader:rgba(0,0,0,0.87);--categoryColor:rgba(0,0,0,0.87);--categotyImgage:linear-gradient(-45deg,#ffa649,#f7645b,#805ed4);--postCardColor:rgba(0,0,0,0.87);--postCardHighlight:rgba(0,0,0,0.08);--postCardEmoji:#ffffff;--postCardDivideLine:#969fa7;--tableOfContentsFocusColor:rgb(33,37,41) background-color:var(--bg);color:var(--textNormal);line-height:1.6;font-size:100%;font-weight:400;font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Pro","メイリオ",Meiryo,sans-serif;-webkit-text-size-adjust:100%;} body.dark{--bg:#21242d;--textNormal:#21242d;--headerBackground:#3B71DA;--bioBackground:#313746;--bioColor:#ffffff;--bioHighlight:#ffffff;--categoryHeader:#ffffff;--categoryColor:#727d86;--categotyImgage:#313746;--postCardColor:#ffffff;--postCardHighlight:#313746;--postCardEmoji:#313746;--postCardDivideLine:#313746;--tableOfContentsFocusColor:#f1f4f7;background-color:var(--bg);color:var(--textNormal);line-height:1.6;font-size:100%;font-weight:400;font-family:"Helvetica Neue",Helvetica,Arial,"Hiragino Kaku Gothic ProN","Hiragino Kaku Gothic Pro","メイリオ",Meiryo,sans-serif;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;} article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;} a{color:#20a8ea;-webkit-text-decoration:none;text-decoration:none;word-break:break-all;-webkit-transition:.2s;transition:.2s;} a:focus{outline:none;} ol,ul,li{list-style:none;} blockquote,q{quotes:none;} blockquote::before,blockquote::after,q::before,q::after{content:'';content:none;} table{border-collapse:collapse;border-spacing:0;} *{box-sizing:border-box;} img{max-width:100%;} button,input{font-family:inherit;font-size:inherit;background:none;border:none;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0;resize:none;} button:focus,input:focus{outline:none;}
/* sc-component-id: ContentWrapper__IndexContent-sc-qgwu46-0 */
.ebovCZ{max-width:1250px;margin:0 auto;padding:0 1.5em;} @media screen and (max-width:950px){.ebovCZ{max-width:760px;}} @media screen and (max-width:500px){.ebovCZ{padding:0 20px;}}
/* sc-component-id: Footer__FooterContent-sc-5p0nzy-0 */
.fTcnoY{padding:0.1em 0;}
/* sc-component-id: Footer__FooterInner-sc-5p0nzy-1 */
.heGWde{margin-top:3em;text-align:center;padding:1.5em;border-top:solid 1px #313746;color:#727d86;font-size:14px;} .heGWde a{color:#727d86;-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: ColorModeToggle__ToggleButton-sc-b3isah-0 */
.evPsmz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-left:auto;cursor:pointer;} .evPsmz .icon-sun{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;color:#222;} .evPsmz .icon-moon{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:100%;color:#fff;}
/* sc-component-id: Header__HeaderTag-sc-sxwgs1-0 */
.fEdaQt{background:var(--headerBackground);width:100%;box-shadow:rgba(0,0,0,0.2) 0px 3px 3px -2px,rgba(0,0,0,0.14) 0px 3px 4px 0px,rgba(0,0,0,0.12) 0px 1px 8px 0px;}
/* sc-component-id: Header__HeaderInner-sc-sxwgs1-1 */
.iarFOA{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:5px;} .iarFOA .logo{width:200px;height:55px;} @media screen and (max-width:500px){.iarFOA .logo{margin:0 auto;}} .iarFOA .message-link{position:absolute;right:0;top:7px;display:block;width:34px;} .iarFOA .message-link:hover{top:5px;}
/* sc-component-id: Layout__Content-sc-152i9mm-0 */
.kyfGjL{margin-top:2em;min-height:85vh;} @media screen and (max-width:950px){.kyfGjL{display:block;}} @media screen and (max-width:500px){.kyfGjL{margin-top:0;}}
/* sc-component-id: MainWrapper__IndexWrapper-sc-vkqmvp-0 */
.gEBZRU{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-top:2em;min-height:85vh;} @media screen and (max-width:950px){.gEBZRU{display:block;}} @media screen and (max-width:500px){.gEBZRU{margin-top:0;}}
/* sc-component-id: MainWrapper__ContentsWrapper-sc-vkqmvp-1 */
.fKTVbh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 290px - 40px);margin-right:40px;} @media screen and (max-width:950px){.fKTVbh{width:100%;}}
/* sc-component-id: CategoryLabel__Wrapper-sc-134vpma-0 */
.hzEQGR .category-text{padding:0.3em 1em;display:inline-block;display:inline;padding:3px 6px;line-height:1.2;font-size:12px;border-radius:2px;font-weight:700;color:#fff;} @media screen and (max-width:950px){.hzEQGR .category-text{font-size:11px;padding:2.5px 6px;}}
/* sc-component-id: RelatedPosts__Wrapper-sc-15t1gj5-0 */
.fiFeft{background:#f1f4f7;padding:2em 2.5em;} @media screen and (max-width:500px){.fiFeft{padding:30px 20px;}}
/* sc-component-id: RelatedPosts__PostCardWrapper-sc-15t1gj5-1 */
.iRbQrG .post-card-link{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:1em;padding:15px;background:#fff;border-radius:5px;color:#313746;box-shadow:0 1px 2px rgba(0,0,0,0.1);} .iRbQrG .post-card-link:hover{background:#e0ebf1;} @media screen and (max-width:500px){.iRbQrG .post-card-link{padding:10px;}}
/* sc-component-id: RelatedPosts__PostCardEmoji-sc-15t1gj5-2 */
.ifmpQu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;box-shadow:0 2px 4px rgba(0,0,0,0.4);margin:0;width:80px;height:80px;background:#f1f4f7;border-radius:4px;font-size:50px;} .ifmpQu img{width:55px;height:55px;}
/* sc-component-id: RelatedPosts__PostCardContent-sc-15t1gj5-3 */
.ggusaO{width:calc(100% - 80px);padding-left:15px;} .ggusaO h5{font-size:1.1em;font-weight:700;line-height:1.45;} .ggusaO time{display:block;margin-bottom:0.1em;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;font-size:0.8em;color:#969fa7;} @media screen and (max-width:500px){.ggusaO{padding-left:15px;}.ggusaO h5{font-size:1em;}}
/* sc-component-id: TableOfContents__TableIndex-sc-10py2gf-0 */
.fDIfyV{position:-webkit-sticky;position:sticky;top:2em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:left;-webkit-justify-content:left;-ms-flex-pack:left;justify-content:left;width:320px;padding:1.5em;background:none;border-radius:4px;} @media screen and (max-width:950px){.fDIfyV{position:relative;margin:2em 0;width:100%;}} @media screen and (max-width:500px){.fDIfyV{padding:1.3em 1em;}}
/* sc-component-id: TableOfContents__TableWrapper-sc-10py2gf-1 */
.fHkPwv{display:block;width:100%;max-height:calc(100vh - 150px);word-break:break-word;color:black;overflow:auto;border-left:1.5px solid rgb(233,236,239);}
/* sc-component-id: TableOfContents__TableHeader-sc-10py2gf-2 */
.kqnMjP{display:block;text-align:left;font-size:17px;color:var(--bioColor);padding-left:15px;margin-bottom:15px;}
/* sc-component-id: TableOfContents__TableContents-sc-10py2gf-3 */
.XIZEq{margin:0 10px;font-size:14px;overflow:hidden;-webkit-transition:all 0.125s ease-in 0s;transition:all 0.125s ease-in 0s;} .XIZEq a{display:block;color:rgb(134,142,150);} .XIZEq a:hover{color:var(--tableOfContentsFocusColor);} .XIZEq ul{list-style:none;margin-left:10px;margin-bottom:0px;line-height:1.5rem;} .XIZEq ul > li a[href='']{color:var(--tableOfContentsFocusColor);-webkit-transform:scale(1.05);-ms-transform:scale(1.05);transform:scale(1.05);}
/* sc-component-id: post__Content-sc-rer3gn-0 */
.boOHpQ{position:relative;background:#fff;overflow:hidden;font-size:16px;} .boOHpQ:before,.boOHpQ:after{content:'';position:absolute;width:0;height:0;z-index:5;-webkit-transition:all 0.2s ease-out 0s;transition:all 0.2s ease-out 0s;} .boOHpQ:before{top:0;left:0;border-top:20px solid var(--bg);border-right:20px solid transparent;} .boOHpQ:after{bottom:0;right:0;border-bottom:20px solid var(--bg);border-left:20px solid transparent;} @media screen and (max-width:500px){.boOHpQ{margin:0 -20px;}.boOHpQ:before,.boOHpQ:after{content:none;}}
/* sc-component-id: post__HeroImage-sc-rer3gn-1 */
.gYZPam{position:relative;background:#313746;text-align:center;background-image:url("/static/pattern-00b88abde489053a0ab3b3e799db37b9.svg");background-repeat:repeat;background-size:400px;min-height:230px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;} .gYZPam .emoji{width:110px;height:110px;} @media screen and (max-width:500px){.gYZPam{min-height:190px;}}
/* sc-component-id: post__ContentMain-sc-rer3gn-2 */
.dYhQMO{padding:1.8em 2.5em;} @media screen and (max-width:500px){.dYhQMO{padding:30px 20px;}}
/* sc-component-id: post__PostTitle-sc-rer3gn-3 */
.dQJMGd{margin:0.1em 0 0.3em;font-size:1.8em;font-weight:700;line-height:1.5;} @media screen and (max-width:500px){.dQJMGd{font-size:25px;}}
/* sc-component-id: post__PostDate-sc-rer3gn-4 */
.knVwJm{display:block;color:#969fa7;font-size:0.9em;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}
/* sc-component-id: post__PostContent-sc-rer3gn-5 */
.ctKYlG{margin:1.5em 0 1em;line-height:1.9;} .ctKYlG .gatsby-highlight{margin:1.5em 0;} @media screen and (max-width:500px){.ctKYlG .gatsby-highlight{margin:1.5em -20px;}} .ctKYlG code[class*='language-'],.ctKYlG pre[class*='language-']{-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;font-family:Menlo,Monaco,'Courier New',monospace;color:#ccc;text-shadow:none;word-break:break-all;} .ctKYlG pre[class*='language-'],.ctKYlG:not(pre) > code[class*='language-']{background:#313746;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.5);} @media screen and (max-width:500px){.ctKYlG pre[class*='language-'],.ctKYlG:not(pre) > code[class*='language-']{border-radius:0;}} .ctKYlG pre[class*='language-']{padding:1.2em 1.2em;-webkit-overflow-scrolling:touch;position:relative;font-size:14.5px;line-height:1.7;overflow:auto;} .ctKYlG .gatsby-highlight pre[class*='language-'].line-numbers{padding-left:3.4em;} .ctKYlG pre[class*='language-'].line-numbers span.line-numbers-rows{padding:1.2em 0 1.2em 0.7em;background-color:hsla(0,0%,78.4%,0.15);border:none;} .ctKYlG .token.comment,.ctKYlG .token.block-comment,.ctKYlG .token.prolog,.ctKYlG .token.doctype,.ctKYlG .token.cdata{color:#999;} .ctKYlG .token.punctuation{color:#ccc;} .ctKYlG .token.tag,.ctKYlG .token.attr-name,.ctKYlG .token.namespace,.ctKYlG .token.deleted{color:#e2777a;} .ctKYlG .token.function-name{color:#6196cc;} .ctKYlG .token.boolean,.ctKYlG .token.number,.ctKYlG .token.function{color:#f08d49;} .ctKYlG .token.property,.ctKYlG .token.class-name,.ctKYlG .token.constant,.ctKYlG .token.symbol{color:#f8c555;} .ctKYlG .token.selector,.ctKYlG .token.important,.ctKYlG .token.atrule,.ctKYlG .token.keyword,.ctKYlG .token.builtin{color:#cc99cd;} .ctKYlG .token.string,.ctKYlG .token.char,.ctKYlG .token.attr-value,.ctKYlG .token.regex,.ctKYlG .token.variable{color:#7ec699;} .ctKYlG .token.operator,.ctKYlG .token.entity,.ctKYlG .token.url{color:#67cdcc;} .ctKYlG .token.important,.ctKYlG .token.bold{font-weight:bold;} .ctKYlG .token.italic{font-style:italic;} .ctKYlG .token.entity{cursor:help;} .ctKYlG .token.inserted{color:green;} .ctKYlG .gatsby-code-title{position:relative;margin:1.5em 0 -24px auto;background:#616161;color:#fff;font-size:12px;height:24px;padding:0 8px;line-height:24px;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-weight:500;border-radius:0 5px;display:table;z-index:2;} @media screen and (max-width:500px){.ctKYlG .gatsby-code-title{border-radius:0 0 0 5px;margin-right:-20px;}} .ctKYlG .gatsby-code-title + .gatsby-highlight{margin-top:0;} .ctKYlG p > code,.ctKYlG li > code{color:#ff3860 !important;background:#f9f1f3;padding:0.15em 0.4em;margin:0.2em;border-radius:4px;font-size:0.85em;word-break:break-all;white-space:pre-line;} .ctKYlG strong > code{font-family:inherit !important;} .ctKYlG a:hover{-webkit-text-decoration:underline;text-decoration:underline;} .ctKYlG p{margin:0.5em 0;} .ctKYlG h1,.ctKYlG h2,.ctKYlG h3,.ctKYlG h4,.ctKYlG h5,.ctKYlG h6{margin:40px 0 10px;font-weight:700;line-height:1.5;} .ctKYlG h1{margin:45px 0 12px;padding:5px 0 5px 17px;font-size:1.55em;} .ctKYlG h1:before{position:absolute;top:0;left:0;content:"";display:inline-block;width:5px;height:100%;border-radius:5px;background:linear-gradient(0deg,#ffa649 0%,#ffa649 50%,#f7645b 50%,#f7645b 100%);} .ctKYlG h2{position:relative;margin:45px 0 12px;padding:5px 0 5px 17px;font-size:1.40em;} .ctKYlG h2:before{position:absolute;top:0;left:0;content:"";display:inline-block;width:5px;height:100%;border-radius:5px;background:linear-gradient(0deg,#ffa649 0%,#ffa649 50%,#f7645b 50%,#f7645b 100%);} .ctKYlG h3{margin:40px 0 12px;font-size:1.40em;} .ctKYlG h4{position:relative;padding-left:18px;font-size:1.2em;} .ctKYlG h4:before{position:absolute;top:.2em;left:0;content:"";display:inline-block;width:14px;height:19px;background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuODrOOCpOODpOODvF8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiCgkgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMzAgNDUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwIDQ1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0Y3NjQ1Qzt9Cgkuc3Qxe2ZpbGw6I0ZGQTc0ODt9Cjwvc3R5bGU+Cjx0aXRsZT5pY29uPC90aXRsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTI4LjEsMzAuMWMwLDcuNS02LjEsMTMuNi0xMy42LDEzLjZTMC45LDM3LjcsMC45LDMwLjFTNywxNi41LDE0LjUsMTYuNVMyOC4xLDIyLjYsMjguMSwzMC4xeiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjguMSwxNS42YzAsNy41LTYuMSwxMy42LTEzLjYsMTMuNlMwLjksMjMuMSwwLjksMTUuNlM3LDIsMTQuNSwyUzI4LjEsOC4xLDI4LjEsMTUuNnoiLz4KPC9zdmc+Cg==");background-size:contain;background-repeat:no-repeat;} .ctKYlG ul,.ctKYlG ol{margin:1em 0;} .ctKYlG ul p,.ctKYlG ol p{margin:0;} .ctKYlG ul{padding-left:1.2em;} .ctKYlG ul li{margin:.4em 0;list-style:disc;} .ctKYlG ul ul,.ctKYlG ul ol{margin:0;} .ctKYlG ol{counter-reset:number;} .ctKYlG ol > li{list-style:none;list-style-position:inside;position:relative;padding:0 0 0 30px;margin:0.5em 0;} .ctKYlG ol > li:before{display:inline-block;position:absolute;left:0;top:0;width:20px;height:20px;margin:.4em 0;border-radius:25%;background:#5c9ee7;color:#fff;font-weight:700;font-size:14px;text-align:center;line-height:20px;content:counter(number);counter-increment:number;} .ctKYlG ol ul{margin:0;} .ctKYlG strong{font-weight:550;font-size:1.1em;} .ctKYlG em{font-style:italic;} .ctKYlG del{-webkit-text-decoration:line-through;text-decoration:line-through;} .ctKYlG hr{display:block;margin:2em 0;border:none;border-top:dotted 3px #e1eaf3;} .ctKYlG table{display:block;margin:1em 0;border-spacing:2px;border-collapse:separate;overflow:auto;-webkit-overflow-scrolling:touch;width:auto;font-size:.9em;line-height:1.4;} .ctKYlG table th{background-color:#313746;color:#FFF;padding:10px 12px;text-align:center;font-weight:700;} .ctKYlG table th[align="center"]{text-align:center;} .ctKYlG table th[align="right"]{text-align:right;} .ctKYlG table td{background-color:#f1f4f7;color:#313746;padding:10px 12px;} .ctKYlG table td code[class*='language-']{color:#313746;} .ctKYlG table thead tr th:first-child{border-radius:5px 0 0 0;} .ctKYlG table thead tr th:last-child{border-radius:0 5px 0 0;} .ctKYlG table tbody tr:last-child td:first-child{border-radius:0 0 0 5px;} .ctKYlG table tbody tr:last-child td:last-child{border-radius:0 0 5px 0;} .ctKYlG blockquote{margin:1em 0;padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5;} .ctKYlG .gatsby-resp-image-wrapper{margin:2em 0;box-shadow:1px 1px 20px lightgrey;border-radius:4px;overflow:hidden;} .ctKYlG .anchor-header{margin:2px 0 0 0;} .ctKYlG .custom-block{margin:1em 0;background:#f1f4f7;} .ctKYlG .custom-block-heading{font-weight:700;} .ctKYlG .custom-block-heading .emoji{width:1.2em !important;height:1.2em !important;vertical-align:-0.2em !important;} .ctKYlG .custom-block-body{font-size:0.92em;} .ctKYlG .custom-block-body > *:first-child{margin-top:0;} .ctKYlG .custom-block-body > *:last-child{margin-bottom:0;} .ctKYlG .custom-block-body h5{font-size:1.05em;margin:20px 0 5px;} .ctKYlG > *:first-child{margin-top:0;} .ctKYlG .custom-block.simple{padding:1em 1.2em;border-radius:5px;} .ctKYlG .custom-block.simple .custom-block-heading{font-size:1.1em;} .ctKYlG .custom-block.info,.ctKYlG .custom-block.alert,.ctKYlG .custom-block.notice{padding:0.7em 1em;border-left:solid 4px #20a8ea;border-radius:1px 3px 3px 1px;} .ctKYlG .custom-block.alert{border-left-color:#f7615f;background:#ffeff0;} .ctKYlG .custom-block.alert .custom-block-heading{color:#f7615f;} .ctKYlG .custom-block.notice{border-left-color:#ffa22b;background:#fff4df;} .ctKYlG .custom-block.notice .custom-block-heading{color:#ffa22b;} .ctKYlG .custom-block.image-small,.ctKYlG .custom-block.image-medium{background:#c0e2fb;padding:1.5em;text-align:center;border-radius:5px;} .ctKYlG .custom-block.image-small .gatsby-resp-image-wrapper,.ctKYlG .custom-block.image-medium .gatsby-resp-image-wrapper{margin:0;border:none;box-shadow:0 5px 15px rgba(0,0,0,0.15);} .ctKYlG .custom-block.image-small .gatsby-resp-image-wrapper{max-width:350px !important;border:none;} .ctKYlG .custom-block.image-medium .gatsby-resp-image-wrapper{max-width:450px !important;border:none;}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-5921571aa18bd69b2869.js"/><link as="script" rel="preload" href="/framework-999a01e9e4c894cffffe.js"/><link as="script" rel="preload" href="/styles-e383b929d2d4095ae339.js"/><link as="script" rel="preload" href="/app-0dbf9fa9f0620e9dd3df.js"/><link as="script" rel="preload" href="/de71a805-d9a74fce0a097621e412.js"/><link as="script" rel="preload" href="/53b27b57f60ee3e1ca57a66cde9add975dffb161-9b45968f09d89d7a2af7.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-e2a6eaff4ad412c6fa96.js"/><link as="fetch" rel="preload" href="/page-data/category/monitoring/oauth2-openid/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/196006245.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1984257895.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2528810007.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="App" style="background-color:var(--bg);color:var(--textNormal);transition:color 0.2s ease-out, background 0.2s ease-out"><header class="Header__HeaderTag-sc-sxwgs1-0 fEdaQt"><div class="ContentWrapper__IndexContent-sc-qgwu46-0 ebovCZ"><div class="Header__HeaderInner-sc-sxwgs1-1 iarFOA"><a class="logo-link" href="/"><img class="logo" src="/static/logo-79575ee6a6d57857a20e895c52919bb8.png" alt="Jay 기술 블로그"/></a><div class="ColorModeToggle__ToggleButton-sc-b3isah-0 evPsmz"><div style="position:relative;display:inline-block;text-align:left;opacity:1;direction:ltr;border-radius:13px;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s;touch-action:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none"><div class="react-switch-bg" style="height:26px;width:54px;margin:0;position:relative;background:#d9dfe2;border-radius:13px;cursor:pointer;-webkit-transition:background 0.25s;-moz-transition:background 0.25s;transition:background 0.25s"><div style="height:26px;width:29px;position:relative;opacity:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon-moon checkedIcon"><svg width="24" height="24" fill="#EFDC05"><rect width="24" height="24" fill="none" rx="0" ry="0"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M14.8102 3.2H13.8202C13.4902 3.2 13.2302 2.93 13.2302 2.6C13.2302 2.27 13.5002 2 13.8302 2H16.2602C16.5002 2 16.7202 2.15 16.8102 2.37C16.9002 2.59 16.8502 2.85 16.6802 3.02L15.2702 4.43H16.2602C16.5902 4.43 16.8602 4.7 16.8602 5.03C16.8602 5.36 16.5902 5.63 16.2602 5.63H13.8202C13.5802 5.63 13.3602 5.48 13.2702 5.26C13.1802 5.04 13.2302 4.78 13.4002 4.61L14.8102 3.2ZM20.1401 11.0101H21.1301C21.4601 11.0101 21.7401 11.2801 21.7401 11.6101C21.7401 11.9401 21.4701 12.2101 21.1401 12.2101H18.7001C18.4601 12.2101 18.2401 12.0601 18.1501 11.8401C18.0601 11.6201 18.1101 11.3601 18.2801 11.1901L19.6901 9.78008H18.7001C18.3701 9.78008 18.1001 9.51008 18.1001 9.18008C18.1001 8.85008 18.3701 8.58008 18.7001 8.58008H21.1301C21.3701 8.58008 21.5901 8.73008 21.6801 8.95008C21.7701 9.17008 21.7201 9.43008 21.5501 9.60008L20.1401 11.0101ZM11.0302 9.8499H12.8502L10.7002 11.9999C10.5302 12.1699 10.4802 12.4299 10.5702 12.6499C10.6602 12.8699 10.8802 13.0199 11.1202 13.0199H14.2902C14.6202 13.0199 14.8902 12.7499 14.8902 12.4199C14.8902 12.0899 14.6202 11.8199 14.2902 11.8199H12.5602L14.7102 9.6699C14.8802 9.4999 14.9302 9.2399 14.8402 9.0199C14.7502 8.7999 14.5302 8.6499 14.2902 8.6499H11.0202C10.6902 8.6499 10.4202 8.9199 10.4202 9.2499C10.4202 9.5799 10.7002 9.8499 11.0302 9.8499ZM14.5501 16.89C15.6601 16.89 16.7201 16.66 17.7101 16.19C17.9401 16.08 18.2101 16.13 18.3801 16.3C18.5601 16.48 18.6101 16.75 18.5001 16.98C17.0901 20.05 13.9901 22.03 10.6001 22.03C5.79013 22.03 1.88013 18.12 1.88013 13.31C1.88013 9.94004 3.87013 6.84004 6.93013 5.40004C7.16013 5.29004 7.43012 5.34004 7.61012 5.52004C7.79012 5.70004 7.84013 5.97004 7.73013 6.20004C7.27013 7.19004 7.03012 8.26004 7.03012 9.38004C7.03012 13.52 10.4001 16.89 14.5501 16.89ZM3.09013 13.31C3.09013 17.46 6.46012 20.83 10.6101 20.83C12.9901 20.83 15.2001 19.7 16.6001 17.85C15.9401 18.01 15.2501 18.09 14.5501 18.09C9.74013 18.09 5.83012 14.18 5.83012 9.38004C5.83012 8.68004 5.91013 7.99004 6.07013 7.32004C4.22013 8.73004 3.09013 10.94 3.09013 13.31Z"></path></svg></div></div><div style="height:26px;width:29px;position:absolute;opacity:1;right:0;top:0;pointer-events:none;-webkit-transition:opacity 0.25s;-moz-transition:opacity 0.25s;transition:opacity 0.25s"><div class="icon-sun uncheckedIcon"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.2" baseProfile="tiny" viewBox="0 0 24 24" size="24" height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 6.934l1-2.934c.072-.213.078-.452 0-.682-.188-.553-.789-.848-1.341-.659-.553.189-.847.788-.659 1.341l1 2.934zM4 11c-.213-.072-.452-.078-.682 0-.553.188-.848.789-.659 1.341.189.553.788.847 1.341.659l2.934-1-2.934-1zM12 17.066l-1 2.934c-.072.213-.078.452 0 .682.188.553.789.848 1.341.659.553-.189.847-.788.659-1.341l-1-2.934zM21.341 11.657c-.188-.553-.788-.848-1.341-.659l-2.934 1 2.934 1c.213.072.452.078.682 0 .552-.188.847-.789.659-1.341zM5.636 7.05l2.781 1.367-1.367-2.781c-.1-.202-.265-.375-.482-.482-.524-.258-1.157-.042-1.415.482-.257.523-.041 1.157.483 1.414zM5.153 17.432c-.257.523-.041 1.156.482 1.414.523.257 1.157.041 1.414-.482l1.367-2.781-2.781 1.367c-.201.099-.374.263-.482.482zM18.363 16.949l-2.781-1.367 1.367 2.781c.1.202.264.375.482.482.523.257 1.156.041 1.414-.482s.042-1.157-.482-1.414zM18.844 6.566c.258-.524.042-1.157-.481-1.415-.523-.257-1.157-.041-1.414.482l-1.369 2.783 2.782-1.368c.202-.1.375-.264.482-.482zM12 7.5c-2.481 0-4.5 2.019-4.5 4.5s2.019 4.5 4.5 4.5 4.5-2.019 4.5-4.5-2.019-4.5-4.5-4.5z"></path></svg></div></div></div><div class="react-switch-handle" style="height:26px;width:26px;background:#ffffff;display:inline-block;cursor:pointer;border-radius:50%;position:absolute;transform:translateX(0px);top:0;outline:0;box-shadow:0px 1px 5px rgba(0, 0, 0, 0.6);border:0;-webkit-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;-moz-transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s;transition:background-color 0.25s, transform 0.25s, box-shadow 0.15s"></div><input type="checkbox" role="switch" style="border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px" id="normal-switch"/></div></div></div></div></header><div class="ContentWrapper__IndexContent-sc-qgwu46-0 ebovCZ"><div class="Layout__Content-sc-152i9mm-0 kyfGjL"><main><div class="MainWrapper__IndexWrapper-sc-vkqmvp-0 gEBZRU"><div class="MainWrapper__ContentsWrapper-sc-vkqmvp-1 fKTVbh"><section class="post__Content-sc-rer3gn-0 boOHpQ"><p class="post__HeroImage-sc-rer3gn-1 gYZPam"><img class="emoji" draggable="false" alt="🔒" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f512.svg"/></p><div class="post__ContentMain-sc-rer3gn-2 dYhQMO"><time class="post__PostDate-sc-rer3gn-4 knVwJm">2022.01.29</time><h1 class="post__PostTitle-sc-rer3gn-3 dQJMGd">[모니터링] Oauth 2.0 &amp; OpenID Connect 알아보기</h1><div class="CategoryLabel__Wrapper-sc-134vpma-0 hzEQGR"><a class="category-text" style="background:#cbd545" href="/category/monitoring">모니터링</a></div><div class="post__PostContent-sc-rer3gn-5 ctKYlG"><blockquote>
<p>회사에서 <code class="language-text">KeyCloak</code>의 OpenId를 이용해 로그인 및 권한관리를 구현하려고 한다.</p>
<p>따라서 각 기술에 대해 공부해보았다.</p>
</blockquote>
<hr>
<h1 id="oauth는-무엇인가" style="position:relative;"><a href="#oauth%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80" aria-label="oauth는 무엇인가 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth는 무엇인가?</h1>
<p><code class="language-text">OAuth(Open Authorization)</code>은 <strong>위임 권한부여</strong>를 위한 표준 프로토콜이다. </p>
<p>OAuth는 어플리케이션이 사용자의 <strong>패스워드 없이 사용자의 데이터에 접근 가능하도록</strong> 허가해준다.</p>
<h2 id="oauth-20-용어-정리" style="position:relative;"><a href="#oauth-20-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC" aria-label="oauth 20 용어 정리 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth 2.0 용어 정리</h2>
<p>다음 용어들을 알아야 OAuth 2.0을 이해할 수 있다.</p>
<ul>
<li><strong>리소스 소유자(Resource Owner)</strong>: 클라이언트 어플리케이션이 접근하길 원하는 데이터를 가지고 있는 사용자이다.</li>
<li><strong>클라이언트(Client)</strong>: 사용자의 데이터에 접근하고 싶어하는 어플리케이션이다.</li>
<li><strong>권한부여 서버(Authorization Server)</strong>: 사용자로부터 권한을 부여받음으로써 클라이언트가 사용자의 데이터에 접근할 권한을 부여해주는 권한부여 서버이다.</li>
<li><strong>리소스 서버(Resource Server)</strong>: 클라이언트가 접근하길 원하는 데이터를 갖고 있는 시스템이다. 때때로 권한부여 서버와 리소스 서버가 같은 경우가 있다.</li>
<li><strong>액세스 토큰(Access Token)</strong>: 리소스 서버에서 사용자에 의해 부여된 데이터에 접근하기 위해서 클라이언트가 사용할 수 있는 유일한 키가 바로 이 엑세스 토큰이다.</li>
</ul>
<p>아래 그림은 OAuth 2.0의 추상적인 흐름이다.</p>
<p><img src="https://user-images.githubusercontent.com/55419159/151648368-a910b40e-14a0-402d-b2e7-311fa499f57f.png" alt="image"></p>
<p>권한 키/인가는 타입 코드 또는 토큰이 될 수 있다.
다른 권한 부여들에 대해서는 일단 나중에 배워보고, 먼저 권한 부여 플로우를 자세히 알아보자.</p>
<ol>
<li>사용자가 권한 부여 플로우를 시작한다. 주로 <code class="language-text">구글로 로그인하기</code>, <code class="language-text">페이스북으로 로그인하기</code>와 같은 버튼을 눌러서 시작한다.</li>
<li>클라이언트는 유저를 권한 부여 서버로 리다이렉트 시킨다. 리다이렉트가 되는 동안 클라이언트는 클라이언트 ID 그리고 리다이렉트 URI와 같은 정보를 전달한다.</li>
<li>권한 부여 서버가 사용자 인증을 처리하고 동의를 구하는 화면을 표출한 뒤에 유저로부터 클라이언트에게 허가가 떨어진다. 만일 사용자가 <code class="language-text">구글로 로그인하기</code> 버튼을 눌렀다면,
사용자는 반드시 구글에게 로그인 자격을 제공해야 한다.
이를테면 <code class="language-text">account.google.com</code>과 같은 사이트에서 로그인하는 것을 말한다. (클라이언트는 제공하지 않아도 된다.)</li>
<li>사용자가 허가를 내줬다면, 권한부여 서버는 권한 부여 키(코드 혹은 토큰)와 함께 사용자를 클라이언트로 돌려보내준다.</li>
<li>클라이언트는 리소스 서버에게 권한 부여 키를 이용하여 사용자의 데이터에 대한 응답을 요청한다.</li>
<li>리소스 서버는 권한부여 키의 유효성 검사를 한 뛰에 요청된 데이터를 클라이언트에게 보내준다.</li>
</ol>
<p>위에 설명한 내용이 어떻게 사용자가 서드파티 어플리케이션에게 직접 패스워드를 주지 않으면서 사용자의 데이터에 접근할 수 있게 하는지에 대한 방법이다.
이 시점에서, 아마 다음과 같은 질문이 있을 수 있다.</p>
<ul>
<li><em>어떻게 리소스 서버에서 특정한 데이터에만 접근이 가능하도록 제한할까?</em></li>
<li><em>만일 클라이언트가 데이터를 읽기만 바라고 수정하지는 않길 바란다면?</em></li>
</ul>
<p>이러한 질문들은 OAuth 용어에서 <strong>‘스코프’</strong>라는 개념을 공부하면 이해 가능하다.</p>
<h2 id="oauth의-스코프" style="position:relative;"><a href="#oauth%EC%9D%98-%EC%8A%A4%EC%BD%94%ED%94%84" aria-label="oauth의 스코프 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth의 스코프</h2>
<p>OAuth 2.0에서 스코프는 어플리케이션이 사용자 데이터에 접근하는 것을 제한하기 위해 사용된다.
사용자에 의해 특정 스코프로 <strong>제한된 권한 인가권을 발행</strong>함으로써 데이터 접근을 제한한다.</p>
<p>클라이언트가 권한 인가를 위해 권한 부여 서버로 요청을 보낼 때, 클라이언트는 스코프도 함께 보낸다.
권한 부여 서버는 동의를 구하는 화면을 만들고 사용자로부터 허가를 받기 위해 스코프의 리스트를 사용한다.
만일 사용자가 동의 화면에서 동의했다면, 그 권한 부여 서버는 유저에 의해 부여된 스코프에 제한된 토큰 또는 권한 부여 코드를 발행한다.</p>
<blockquote>
<p>예를들어 만일 클라이언트에게 나의 구글 연락처의 리스트를 볼 수 있게 하기 위해 권한을 부여했다면
권한 부여 서버로부터 발행되어 클라이언트로 전해진 토큰은 나의 연락처를 삭제하거나 나의 캘린더 이벤트를 볼 수는 없다.
왜냐하면 오직 구글 연락처를 읽도록 스코프가 설정되어 있기 때문이다.</p>
</blockquote>
<hr>
<h1 id="oauth-20을-위한-셋업" style="position:relative;"><a href="#oauth-20%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%85%8B%EC%97%85" aria-label="oauth 20을 위한 셋업 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth 2.0을 위한 셋업</h1>
<p>OAuth 플로우에 대해 배워보기 전에, 몇가지 OAuth 설정에 대해 미리 알아두면 좋다.
권한 부여를 위한 요청이 초기화되었을 때, 클라이언트가 몇가지 설정 데이터를 권한부여 서버에게 쿼리 파라미터로 보낸다. 기본적인 쿼리 파라미터는 다음과 같다.</p>
<ul>
<li><code class="language-text">response_type</code> : 우리가 권한부여 서버로부터 받길 원하는 응답의 타입이다.</li>
<li><code class="language-text">scope</code> : 클라이언트가 접근하길 원하는 리스트의 스코프이다. 이 리스트는 동의를 구하는 화면을 만들 때 권한부여 서버에 의해 사용된다.</li>
<li><code class="language-text">client_id</code> : 클라이언트에 OAuth 세팅을 할 때, 권한부여 서버에 의해 제공된다. 이 ID는 권한 부여 서버가 OAuth 플로우를 시행하려는 클라이언트가 누구인지 알아내기 위해 사용된다.</li>
<li><code class="language-text">redirect_url</code> : 권한부여 서버에게 OAuth 플로우가 끝나면 어디로 보내줄지에 대해 알려주는 역할이다.</li>
<li><code class="language-text">client_secret</code> : 권한부여 서버에 의해 제공된다. OAuth 플로우에서 이 파라미터는 필수 옵션은 아니다. 권한부여 코드 플로우에서 이 <code class="language-text">client_secret</code>의 중요성에 대해 알아볼 것이다.</li>
</ul>
<hr>
<h1 id="다른-oauth-플로우들-이해하기" style="position:relative;"><a href="#%EB%8B%A4%EB%A5%B8-oauth-%ED%94%8C%EB%A1%9C%EC%9A%B0%EB%93%A4-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0" aria-label="다른 oauth 플로우들 이해하기 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>다른 OAuth 플로우들 이해하기</h1>
<p>가장 흔하게 쓰이는 두가지 OAuth 2.0 플로우는 2가지가 있다. </p>
<ol>
<li>서버를 베이스로한 어플리케이션을 위한 권한부여 코드 플로우</li>
<li>순수한 자바스크립트 Single Page Application(SPA)을 위한 암묵적인 플로우</li>
</ol>
<p>이 글에서는 서버를 베이스로 한 권한부여 코드 플로우만 설명한다.
쉬운 설명을 위해 OAuth 플로우를 설명하면서, 구글을 OAuth 서비스 제공자로 가정하면서 설명하겠다.</p>
<h2 id="권한부여-코드-플로우" style="position:relative;"><a href="#%EA%B6%8C%ED%95%9C%EB%B6%80%EC%97%AC-%EC%BD%94%EB%93%9C-%ED%94%8C%EB%A1%9C%EC%9A%B0" aria-label="권한부여 코드 플로우 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>권한부여 코드 플로우</h2>
<p>권한부여 코드 플로우 또는 권한부여 코드 부여는 보안성을 높이기 위해서 이상적인 OAuth 플로우로 여겨진다.
왜냐하면 OAuth 2.0 매커니즘을 구현하기 위해서 프론트엔드 채널도 이용하고, 백엔드 채널도 이용하기 때문이다.</p>
<p><img src="https://user-images.githubusercontent.com/55419159/151649535-863d10a3-ee1c-49ff-a145-00c830a69e0b.png" alt="image"></p>
<p>잘보면 권한코드를 부여하고 그 권한 코드를 엑세스 토큰으로 변경하는 부분이 추가되었다.</p>
<p>클라이언트는 <strong>code</strong>라고 세팅된 <code class="language-text">response_type</code>과 함께 사용자를 권한부여 서버로 리다이렉팅함으로써 권한 부여 시퀀스를 시작한다.
이게 의미하는 바는 권한부여 서버에게 권한부여 코드로 응답하라는 것을 말한다. 이 플로우에 대한 URI는 다음과 같이 생겼다.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">https://accounts.google.com/o/oauth2/v2/auth?
response_type=code&amp;
client_id=your_client_id&amp;
scope=profile%20contacts&amp;
redirect_uri=https%3A//oauth2.example.com/code</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>위 요청에서, 클라이언트는 요청의 <code class="language-text">scope</code> 파라미터에 인자를 보냄으로써, 사용자의 공개 프로필과 연락처에 접근할 수 있는 사용자의 권한을 요구한다.
이 요청의 결과는 액세스 토큰으로 변환 가능한 권한 부여 코드이다. 권한부여 코드는 다음과 같이 생겼다.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">4/W7q7P51a-iMsCeLvIaQc6bYrgtp9</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<h2 id="왜-코드를-토큰으로-바꾸는-것일까" style="position:relative;"><a href="#%EC%99%9C-%EC%BD%94%EB%93%9C%EB%A5%BC-%ED%86%A0%ED%81%B0%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EB%8A%94-%EA%B2%83%EC%9D%BC%EA%B9%8C" aria-label="왜 코드를 토큰으로 바꾸는 것일까 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>왜 코드를 토큰으로 바꾸는 것일까?</h2>
<p>액세스 토큰은 리소스 서버에 존재하는 데이터에 접근하기 위한 유일한 것이다.
하지만 어플리케이션 코드는 아니다. 그래서 왜 액세스 토큰이 필요할 때, 클라이언트가 <code class="language-text">response_type</code>을 <strong>code</strong>로 세팅하는 것일까?</p>
<p>이유는 <strong>OAuth 플로우의 보안성을 높게 만들기 위해서</strong>이다.</p>
<ul>
<li><strong>문제</strong>: 액세스 토큰은 다른 사람이 접근하면 안되는 정보의 비밀스러운 부분이다.
만일 클라이언트가 액세스 토큰을 직접적으로 요청하고 브라우저에 갖고 있게 되면 탈취당할 수 있다.
왜냐하면 브라우저는 완전히 보안이 되어있진 않으니까. 다른 사람이 페이지 소스 또는 잠재적으로 개발자 도구로 액세스 토큰을 얻어갈 수 있다.</li>
<li><strong>해결방법</strong>: 브라우저에서 액세스 토큰 노출을 방지하기 위해서, 클라이언트의 프론트엔드 채널은 권한 부여 서버로부터 어플리케이션 코드를 얻는다.
그리고 어플리케이션 코드를 백엔드 채널로 보낸다. 어플리케이션 코드를 액세스 토큰으로 바꾸기 위해서, client<em>secret이 필요하다.
client</em>secret은 클라이언트의 백엔드 채널에 의해서만 알려지게 되며, 프론트엔드 채널은 client_secret에 관여하지 않는다.</li>
</ul>
<p>백엔드 채널은 POST 요청을 권한부여 서버에 어플리케이션 코드와 어플리케이션 코드를 동봉해서 보낸다. 요청은 다음과 같이 보내진다.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">POST /token HTTP/1.1
Host: oauth2.googleapis.com
Content-Type: application/x-www-form-urlencoded

code=4/W7q7P51a-iMsCeLvIaQc6bYrgtp9&amp;
client_id=your_client_id&amp;
client_secret==your_client_secret_only_known_by_server&amp;
redirect_url=https%3A//oauth2.example.com/code</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>권한 부여 서버는 <code class="language-text">client_secret</code>과 <code class="language-text">application code</code>의 유효성을 검사하고 액세스 토큰을 보내준다.
백엔드 채널은 액세스 토큰을 갖고 있고 이 토큰을 리소스 서버에서 정보를 갖고올 때 사용한다.
이러한 방법으로 브라우저는 액세스 토큰에 접근하지 않는 방식으로 구현할 수 있다.</p>
<hr>
<h1 id="인증authentication-vs-권한-부여authorization" style="position:relative;"><a href="#%EC%9D%B8%EC%A6%9Dauthentication-vs-%EA%B6%8C%ED%95%9C-%EB%B6%80%EC%97%ACauthorization" aria-label="인증authentication vs 권한 부여authorization permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>인증(Authentication) vs 권한 부여(Authorization)</h1>
<p>우리가 알고있듯, OAuth는 위임된 권한부여 문제를 해결해준다.
하지만 이 방법은 사용자 인증을 위한 표준 방법을 제공해주진 않는다.
우리는 다음과 같이 말할 수 있다.</p>
<ul>
<li><strong>OAuth 2.0</strong>은 권한 부여를 위한 것이다.</li>
<li><strong>OpenID Connect</strong>는 인증을 위한 것이다.</li>
</ul>
<p>아마 ‘권한 부여’와 ‘인증’이 헷갈릴 수 있는데, 차이점은 다음과 같다.</p>
<ul>
<li><strong>인증(Authentication)</strong>은 내가 소통하는 주체가 어떤 것인지 확신하는 것이다.</li>
<li><strong>권한 부여(Authorization)</strong>는 소통하는 주체가 리소스에 접근할 수 있는지 아닌지에 대해 확인하는 프로세스이다.</li>
</ul>
<p>authentication(인증)은 <strong>당신이 누구인지</strong>에 대한 것이고, authorization(권한 부여)은 <strong>당신이 어떤 권한을 가졌는지</strong>에 대한 것이다.</p>
<hr>
<h1 id="openid-connect란" style="position:relative;"><a href="#openid-connect%EB%9E%80" aria-label="openid connect란 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OpenID Connect란</h1>
<p>OpenID Connect는 OAuth 2.0 프로토콜의 <strong>최상위 레이어와 동일한 레이어</strong>다.
OpenID Connect는 <strong>OAuth 2.0을 확장</strong>하여 인증 방식을 표준화한다.</p>
<p><img src="https://user-images.githubusercontent.com/55419159/151649045-24d98904-6dce-41fb-8a36-c7dd30db2c11.png" alt="image"></p>
<p>OAuth는 유저 인증을 곧바로 제공하지 않지만 권한 부여를 위한 엑세스 토큰을 제공한다.
OpenID Connect는 권한부여 서버에 의해 작동하는 인증 시스템을 기반으로 클라이언트가 사용자를 판단할 수 있게 해준다.
권한부여 서버에 유저 로그인과 동의를 요청할 때, openid라는 스코프를 정의하면 OpenID Connect 사용이 가능하다.
openid는 OpenID가 필요되는 권한부여 서버에 필수적인 스코프이다.</p>
<p>OpenID Connect 인증을 위한 URI 요청은 다음과 같이 만들어진다.</p>
<div class="gatsby-highlight" data-language="text"><pre style="counter-reset: linenumber NaN" class="language-text line-numbers"><code class="language-text">https://accounts.google.com/o/oauth2/v2/auth?
response_type=code&amp;
client_id=your_client_id&amp;
scope=openid%20contacts&amp;
redirect_uri=https%3A//oauth2.example.com/code</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>이 요청의 결과는 액세스 토큰과 ID 토큰으로 바꿀 수 있는 어플리케이션 코드이다.
OAuth 플로우가 암묵적 플로우면, 서버는 액세스 토큰과 ID 토큰을 바로 줄 것이다.</p>
<p>ID 토큰은 JWT 또는 JSON 웹 토큰이다.
JWT는 header, payload, signature 3가지 부분이 담겨있는 인코드된 토큰이다.
ID 토큰을 얻은 이후에, 클라이언트는 payload 부분에 인코드된 사용자 정보를 얻을지 결정할 수 있다.</p>
<div class="gatsby-highlight" data-language="json"><pre style="counter-reset: linenumber NaN" class="language-json line-numbers"><code class="language-json"><span class="token punctuation">{</span>
<span class="token property">"iss"</span><span class="token operator">:</span> <span class="token string">"https://accounts.google.com"</span><span class="token punctuation">,</span>
<span class="token property">"sub"</span><span class="token operator">:</span> <span class="token string">"10965150351106250715113082368"</span><span class="token punctuation">,</span>
<span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"johndoe@example.com"</span><span class="token punctuation">,</span>
<span class="token property">"iat"</span><span class="token operator">:</span> <span class="token number">1516239022</span><span class="token punctuation">,</span>
<span class="token property">"exp"</span><span class="token operator">:</span> <span class="token number">1516242922</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<h2 id="claims" style="position:relative;"><a href="#claims" aria-label="claims permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Claims</h2>
<p>ID 토큰이 갖고 있는 payload는 <code class="language-text">claims</code>라 알려진 어떤 필드들을 포함한다. 기본적인 <code class="language-text">claims</code>는 다음과 같다.</p>
<ul>
<li><code class="language-text">iss</code>: 토큰 발행자</li>
<li><code class="language-text">sub</code>: 사용자를 구분하기 위한 유니크한 구분자</li>
<li><code class="language-text">email</code>: 사용자의 이메일</li>
<li><code class="language-text">iat</code>: 토큰이 발행되는 시간을 Unix time으로 표기한 것</li>
<li><code class="language-text">exp</code>: 토큰이 만료되는 시간을 Unix time으로 표기한 것</li>
</ul>
<p>하지만, claims는 이러한 영역에 제한된 것이 아니다.
권한부여 서버에서 어떻게 <code class="language-text">claims</code>를 인코드할 것인지에 달린 것이다.
클라이언트는 이러한 정보를 이용하여 사용자를 인증할 수 있다.</p>
<p>만일 클라이언트가 더 많은 사용자 정보를 원한다면,
클라이언트는 표준 OpenID Connect 스코프에 더 많은 것들을 기재하여 권한 부여 서버에게 ID Token의 payload에 필요한 것들을 더 추가하라고 할 수 있다.
이러한 스코프는 <strong>email</strong>, <strong>address</strong>, <strong>phone</strong>, <strong>profile</strong> 등이다.</p></div></div><aside><div class="RelatedPosts__Wrapper-sc-15t1gj5-0 fiFeft"><div class="RelatedPosts__PostCardWrapper-sc-15t1gj5-1 iRbQrG"><a class="post-card-link" href="/category/monitoring/jenkins-plugins/"><p class="RelatedPosts__PostCardEmoji-sc-15t1gj5-2 ifmpQu"><img class="emoji" draggable="false" alt="🕴" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f574.svg"/></p><div class="RelatedPosts__PostCardContent-sc-15t1gj5-3 ggusaO"><h5>[모니터링] 폐쇠망에서 Jenkins 업그레이드 &amp; 플러그인 설치하기</h5><time>2022.01.25</time></div></a></div><div class="RelatedPosts__PostCardWrapper-sc-15t1gj5-1 iRbQrG"><a class="post-card-link" href="/category/monitoring/nginx-prometheus/"><p class="RelatedPosts__PostCardEmoji-sc-15t1gj5-2 ifmpQu"><img class="emoji" draggable="false" alt="🚂" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f682.svg"/></p><div class="RelatedPosts__PostCardContent-sc-15t1gj5-3 ggusaO"><h5>[모니터링] Nginx 를 Prometheus 로 모니터링 하기</h5><time>2021.12.20</time></div></a></div><div class="RelatedPosts__PostCardWrapper-sc-15t1gj5-1 iRbQrG"><a class="post-card-link" href="/category/monitoring/fluentd-prometheus/"><p class="RelatedPosts__PostCardEmoji-sc-15t1gj5-2 ifmpQu"><img class="emoji" draggable="false" alt="🔡" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f521.svg"/></p><div class="RelatedPosts__PostCardContent-sc-15t1gj5-3 ggusaO"><h5>[모니터링] Fluentd 를 Prometheus 로 모니터링 하기</h5><time>2021.12.17</time></div></a></div><div class="RelatedPosts__PostCardWrapper-sc-15t1gj5-1 iRbQrG"><a class="post-card-link" href="/category/monitoring/about-kafka/"><p class="RelatedPosts__PostCardEmoji-sc-15t1gj5-2 ifmpQu"><img class="emoji" draggable="false" alt="📨" src="https://twemoji.maxcdn.com/v/12.1.6/svg/1f4e8.svg"/></p><div class="RelatedPosts__PostCardContent-sc-15t1gj5-3 ggusaO"><h5>[모니터링] Kafka 란</h5><time>2021.11.28</time></div></a></div></div><div></div></aside></section></div><div class="TableOfContents__TableIndex-sc-10py2gf-0 fDIfyV"><div class="TableOfContents__TableWrapper-sc-10py2gf-1 fHkPwv table-of-contents"><h1 class="TableOfContents__TableHeader-sc-10py2gf-2 kqnMjP">🔖 Catalog</h1><div class="TableOfContents__TableContents-sc-10py2gf-3 XIZEq"><ul>
<li>
<p><a href="/category/monitoring/oauth2-openid/#oauth%EB%8A%94-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80">OAuth는 무엇인가?</a></p>
<ul>
<li><a href="/category/monitoring/oauth2-openid/#oauth-20-%EC%9A%A9%EC%96%B4-%EC%A0%95%EB%A6%AC">OAuth 2.0 용어 정리</a></li>
<li><a href="/category/monitoring/oauth2-openid/#oauth%EC%9D%98-%EC%8A%A4%EC%BD%94%ED%94%84">OAuth의 스코프</a></li>
</ul>
</li>
<li><a href="/category/monitoring/oauth2-openid/#oauth-20%EC%9D%84-%EC%9C%84%ED%95%9C-%EC%85%8B%EC%97%85">OAuth 2.0을 위한 셋업</a></li>
<li>
<p><a href="/category/monitoring/oauth2-openid/#%EB%8B%A4%EB%A5%B8-oauth-%ED%94%8C%EB%A1%9C%EC%9A%B0%EB%93%A4-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0">다른 OAuth 플로우들 이해하기</a></p>
<ul>
<li><a href="/category/monitoring/oauth2-openid/#%EA%B6%8C%ED%95%9C%EB%B6%80%EC%97%AC-%EC%BD%94%EB%93%9C-%ED%94%8C%EB%A1%9C%EC%9A%B0">권한부여 코드 플로우</a></li>
<li><a href="/category/monitoring/oauth2-openid/#%EC%99%9C-%EC%BD%94%EB%93%9C%EB%A5%BC-%ED%86%A0%ED%81%B0%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EB%8A%94-%EA%B2%83%EC%9D%BC%EA%B9%8C">왜 코드를 토큰으로 바꾸는 것일까?</a></li>
</ul>
</li>
<li><a href="/category/monitoring/oauth2-openid/#%EC%9D%B8%EC%A6%9Dauthentication-vs-%EA%B6%8C%ED%95%9C-%EB%B6%80%EC%97%ACauthorization">인증(Authentication) vs 권한 부여(Authorization)</a></li>
<li>
<p><a href="/category/monitoring/oauth2-openid/#openid-connect%EB%9E%80">OpenID Connect란</a></p>
<ul>
<li><a href="/category/monitoring/oauth2-openid/#claims">Claims</a></li>
</ul>
</li>
</ul></div></div></div></div></main></div></div><footer class="Footer__FooterContent-sc-5p0nzy-0 fTcnoY"><div class="ContentWrapper__IndexContent-sc-qgwu46-0 ebovCZ"><div class="Footer__FooterInner-sc-5p0nzy-1 heGWde"><div>© <!-- -->2022<!-- -->, Jay. All rights reserved.</div></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'none', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/category/monitoring/oauth2-openid/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-6ed0469530c21b23fd71.js"],"app":["/app-0dbf9fa9f0620e9dd3df.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-2296adb1de2fc003fbd5.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-50bdfd543664202d8b16.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-6ad552307d57c3b3397d.js"],"component---src-templates-categories-tsx":["/component---src-templates-categories-tsx-655be2bbb60a827e3b84.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-e2a6eaff4ad412c6fa96.js"]};/*]]>*/</script><script src="/polyfill-6ed0469530c21b23fd71.js" nomodule=""></script><script src="/component---src-templates-post-tsx-e2a6eaff4ad412c6fa96.js" async=""></script><script src="/53b27b57f60ee3e1ca57a66cde9add975dffb161-9b45968f09d89d7a2af7.js" async=""></script><script src="/de71a805-d9a74fce0a097621e412.js" async=""></script><script src="/app-0dbf9fa9f0620e9dd3df.js" async=""></script><script src="/styles-e383b929d2d4095ae339.js" async=""></script><script src="/framework-999a01e9e4c894cffffe.js" async=""></script><script src="/webpack-runtime-5921571aa18bd69b2869.js" async=""></script></body></html>