---
title: "개략적인 규모 추정"
categories:
  - 가상면접 사례로 배우는 대규모 시스템 설계기초
tags:
  - 시스템설계
  - 대규모설계
toc: true
toc_sticky: true
toc_label: "개략적인 규모 추정"
toc_icon: "sticky-note"
---



# 2의 제곱 수

- 최소단위는 1바이트, 8비트
- 아스키 문자 하나 메모리크기가 1바이트

# 모든 프로그래머가 알아야 하는 응답 지연 값

- 메모리는 빠르지만 디스크는 아직도 느리다
- 디스크 탐색은 가능한 한 피하라
- 단순한 압축 알고리즘은 빠르다
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라
- 데이터 센터는 보통 여러 지역에 분산되어있고, 센터들 간에 데이터를 주고 받는 데는 시간이 걸린다

# 가용성에 관계된 수치들

> 고가용성
>
>
> 시스템이 오랜 기간동안 지속적으로 중단 없이 운영될 수 있는 능력

---

# 예제: 트위터 QPS와 저장소 요구량 추정

## 가정

- 월간 능동 사용자(mau) 3억 명
- 50%가 매일 사용
- 각 사용자는 매일 2건
- 미디어 포함 10%
- 데이터는 5년 보관

## 추정

- QPS(Query Per Second) 추정치
- 일간 능동 사용자(dau) = 3억 x 50% = 1.5억
- QPS = 1.5억 x 2건 / 24시간 / 3600초 = 약 3500
- 최대 QPS = 2 x QPS = 약 7000

## 미디어 저장을 위한 저장소 요구량

- 평균 크기
  - id = 64바이트
  - body = 140바이트
  - 미디어 = 1MB
- 미디어 저장소 요구량 : 1.5억 x 2 x 10% x 1MB = 30TB/day
- 5년간 미디어를 보관하기 위한 저장소 요구량 : 30TB x 365 x 5 = 약 55PB

