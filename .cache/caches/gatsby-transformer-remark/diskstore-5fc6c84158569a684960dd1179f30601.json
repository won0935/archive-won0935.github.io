{"expireTime":9007200898177097000,"key":"transformer-remark-markdown-ast-d7a323f38c4773f8aaad77d2e22d10c6-gatsby-remark-code-titlesgatsby-remark-embed-youtubegatsby-remark-imagesgatsby-remark-responsive-iframegatsby-remark-custom-blocksgatsby-remark-autolink-headersgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-smartypants-","val":{"type":"root","children":[{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"회사에서 ","position":{"start":{"line":3,"column":3,"offset":4},"end":{"line":3,"column":8,"offset":9},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">KeyCloak</code>","position":{"start":{"line":3,"column":8,"offset":9},"end":{"line":3,"column":18,"offset":19},"indent":[]}},{"type":"text","value":"의 OpenId를 이용해 로그인 및 권한관리를 구현하려고 한다.","position":{"start":{"line":3,"column":18,"offset":19},"end":{"line":3,"column":53,"offset":54},"indent":[]}}],"position":{"start":{"line":3,"column":3,"offset":4},"end":{"line":3,"column":53,"offset":54},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"따라서 각 기술에 대해 공부해보았다.","position":{"start":{"line":5,"column":3,"offset":60},"end":{"line":5,"column":23,"offset":80},"indent":[]}}],"position":{"start":{"line":5,"column":3,"offset":60},"end":{"line":5,"column":23,"offset":80},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":5,"column":23,"offset":80},"indent":[1,1]}},{"type":"thematicBreak","position":{"start":{"line":7,"column":1,"offset":82},"end":{"line":7,"column":4,"offset":85},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#oauth는-무엇인가","title":null,"children":[],"data":{"hProperties":{"aria-label":"oauth는 무엇인가 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"OAuth는 무엇인가?","position":{"start":{"line":9,"column":3,"offset":89},"end":{"line":9,"column":15,"offset":101},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":87},"end":{"line":9,"column":15,"offset":101},"indent":[]},"data":{"id":"oauth는-무엇인가","htmlAttributes":{"id":"oauth는-무엇인가"},"hProperties":{"id":"oauth는-무엇인가","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">OAuth(Open Authorization)</code>","position":{"start":{"line":11,"column":1,"offset":103},"end":{"line":11,"column":28,"offset":130},"indent":[]}},{"type":"text","value":"은 ","position":{"start":{"line":11,"column":28,"offset":130},"end":{"line":11,"column":30,"offset":132},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"위임 권한부여","position":{"start":{"line":11,"column":32,"offset":134},"end":{"line":11,"column":39,"offset":141},"indent":[]}}],"position":{"start":{"line":11,"column":30,"offset":132},"end":{"line":11,"column":41,"offset":143},"indent":[]}},{"type":"text","value":"를 위한 표준 프로토콜이다. ","position":{"start":{"line":11,"column":41,"offset":143},"end":{"line":11,"column":57,"offset":159},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":103},"end":{"line":11,"column":57,"offset":159},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"OAuth는 어플리케이션이 사용자의 ","position":{"start":{"line":13,"column":1,"offset":161},"end":{"line":13,"column":21,"offset":181},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"패스워드 없이 사용자의 데이터에 접근 가능하도록","position":{"start":{"line":13,"column":23,"offset":183},"end":{"line":13,"column":49,"offset":209},"indent":[]}}],"position":{"start":{"line":13,"column":21,"offset":181},"end":{"line":13,"column":51,"offset":211},"indent":[]}},{"type":"text","value":" 허가해준다.","position":{"start":{"line":13,"column":51,"offset":211},"end":{"line":13,"column":58,"offset":218},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":161},"end":{"line":13,"column":58,"offset":218},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#oauth-20-용어-정리","title":null,"children":[],"data":{"hProperties":{"aria-label":"oauth 20 용어 정리 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"OAuth 2.0 용어 정리","position":{"start":{"line":15,"column":4,"offset":223},"end":{"line":15,"column":19,"offset":238},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":220},"end":{"line":15,"column":19,"offset":238},"indent":[]},"data":{"id":"oauth-20-용어-정리","htmlAttributes":{"id":"oauth-20-용어-정리"},"hProperties":{"id":"oauth-20-용어-정리","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"다음 용어들을 알아야 OAuth 2.0을 이해할 수 있다.","position":{"start":{"line":17,"column":1,"offset":240},"end":{"line":17,"column":33,"offset":272},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":240},"end":{"line":17,"column":33,"offset":272},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"리소스 소유자(Resource Owner)","position":{"start":{"line":19,"column":5,"offset":278},"end":{"line":19,"column":28,"offset":301},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":276},"end":{"line":19,"column":30,"offset":303},"indent":[]}},{"type":"text","value":": 클라이언트 어플리케이션이 접근하길 원하는 데이터를 가지고 있는 사용자이다.","position":{"start":{"line":19,"column":30,"offset":303},"end":{"line":19,"column":73,"offset":346},"indent":[]}}],"position":{"start":{"line":19,"column":3,"offset":276},"end":{"line":19,"column":73,"offset":346},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":274},"end":{"line":19,"column":73,"offset":346},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"클라이언트(Client)","position":{"start":{"line":20,"column":5,"offset":351},"end":{"line":20,"column":18,"offset":364},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":349},"end":{"line":20,"column":20,"offset":366},"indent":[]}},{"type":"text","value":": 사용자의 데이터에 접근하고 싶어하는 어플리케이션이다.","position":{"start":{"line":20,"column":20,"offset":366},"end":{"line":20,"column":51,"offset":397},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":349},"end":{"line":20,"column":51,"offset":397},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":347},"end":{"line":20,"column":51,"offset":397},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"권한부여 서버(Authorization Server)","position":{"start":{"line":21,"column":5,"offset":402},"end":{"line":21,"column":34,"offset":431},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":400},"end":{"line":21,"column":36,"offset":433},"indent":[]}},{"type":"text","value":": 사용자로부터 권한을 부여받음으로써 클라이언트가 사용자의 데이터에 접근할 권한을 부여해주는 권한부여 서버이다.","position":{"start":{"line":21,"column":36,"offset":433},"end":{"line":21,"column":98,"offset":495},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":400},"end":{"line":21,"column":98,"offset":495},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":398},"end":{"line":21,"column":98,"offset":495},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"리소스 서버(Resource Server)","position":{"start":{"line":22,"column":5,"offset":500},"end":{"line":22,"column":28,"offset":523},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":498},"end":{"line":22,"column":30,"offset":525},"indent":[]}},{"type":"text","value":": 클라이언트가 접근하길 원하는 데이터를 갖고 있는 시스템이다. 때때로 권한부여 서버와 리소스 서버가 같은 경우가 있다.","position":{"start":{"line":22,"column":30,"offset":525},"end":{"line":22,"column":97,"offset":592},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":498},"end":{"line":22,"column":97,"offset":592},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":496},"end":{"line":22,"column":97,"offset":592},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"액세스 토큰(Access Token)","position":{"start":{"line":23,"column":5,"offset":597},"end":{"line":23,"column":25,"offset":617},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":595},"end":{"line":23,"column":27,"offset":619},"indent":[]}},{"type":"text","value":": 리소스 서버에서 사용자에 의해 부여된 데이터에 접근하기 위해서 클라이언트가 사용할 수 있는 유일한 키가 바로 이 엑세스 토큰이다.","position":{"start":{"line":23,"column":27,"offset":619},"end":{"line":23,"column":101,"offset":693},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":595},"end":{"line":23,"column":101,"offset":693},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":593},"end":{"line":23,"column":101,"offset":693},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":274},"end":{"line":23,"column":101,"offset":693},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"아래 그림은 OAuth 2.0의 추상적인 흐름이다.","position":{"start":{"line":26,"column":1,"offset":696},"end":{"line":26,"column":29,"offset":724},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":696},"end":{"line":26,"column":29,"offset":724},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://user-images.githubusercontent.com/55419159/151648368-a910b40e-14a0-402d-b2e7-311fa499f57f.png","alt":"image","position":{"start":{"line":28,"column":1,"offset":726},"end":{"line":28,"column":112,"offset":837},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":726},"end":{"line":28,"column":112,"offset":837},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"권한 키/인가는 타입 코드 또는 토큰이 될 수 있다. \n다른 권한 부여들에 대해서는 일단 나중에 배워보고, 먼저 권한 부여 플로우를 자세히 알아보자.","position":{"start":{"line":30,"column":1,"offset":839},"end":{"line":31,"column":53,"offset":922},"indent":[1]}}],"position":{"start":{"line":30,"column":1,"offset":839},"end":{"line":31,"column":53,"offset":922},"indent":[1]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"사용자가 권한 부여 플로우를 시작한다. 주로 ","position":{"start":{"line":33,"column":4,"offset":927},"end":{"line":33,"column":29,"offset":952},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">구글로 로그인하기</code>","position":{"start":{"line":33,"column":29,"offset":952},"end":{"line":33,"column":40,"offset":963},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":33,"column":40,"offset":963},"end":{"line":33,"column":42,"offset":965},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">페이스북으로 로그인하기</code>","position":{"start":{"line":33,"column":42,"offset":965},"end":{"line":33,"column":56,"offset":979},"indent":[]}},{"type":"text","value":"와 같은 버튼을 눌러서 시작한다.","position":{"start":{"line":33,"column":56,"offset":979},"end":{"line":33,"column":74,"offset":997},"indent":[]}}],"position":{"start":{"line":33,"column":4,"offset":927},"end":{"line":33,"column":74,"offset":997},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":924},"end":{"line":33,"column":74,"offset":997},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"클라이언트는 유저를 권한 부여 서버로 리다이렉트 시킨다. 리다이렉트가 되는 동안 클라이언트는 클라이언트 ID 그리고 리다이렉트 URI와 같은 정보를 전달한다.","position":{"start":{"line":34,"column":4,"offset":1001},"end":{"line":34,"column":92,"offset":1089},"indent":[]}}],"position":{"start":{"line":34,"column":4,"offset":1001},"end":{"line":34,"column":92,"offset":1089},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":998},"end":{"line":34,"column":92,"offset":1089},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"권한 부여 서버가 사용자 인증을 처리하고 동의를 구하는 화면을 표출한 뒤에 유저로부터 클라이언트에게 허가가 떨어진다. 만일 사용자가 ","position":{"start":{"line":35,"column":4,"offset":1093},"end":{"line":35,"column":78,"offset":1167},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">구글로 로그인하기</code>","position":{"start":{"line":35,"column":78,"offset":1167},"end":{"line":35,"column":89,"offset":1178},"indent":[]}},{"type":"text","value":" 버튼을 눌렀다면, \n사용자는 반드시 구글에게 로그인 자격을 제공해야 한다. \n이를테면 ","position":{"start":{"line":35,"column":89,"offset":1178},"end":{"line":37,"column":6,"offset":1227},"indent":[1,1]}},{"type":"html","value":"<code class=\"language-text\">account.google.com</code>","position":{"start":{"line":37,"column":6,"offset":1227},"end":{"line":37,"column":26,"offset":1247},"indent":[]}},{"type":"text","value":"과 같은 사이트에서 로그인하는 것을 말한다. (클라이언트는 제공하지 않아도 된다.)","position":{"start":{"line":37,"column":26,"offset":1247},"end":{"line":37,"column":72,"offset":1293},"indent":[]}}],"position":{"start":{"line":35,"column":4,"offset":1093},"end":{"line":37,"column":72,"offset":1293},"indent":[1,1]}}],"position":{"start":{"line":35,"column":1,"offset":1090},"end":{"line":37,"column":72,"offset":1293},"indent":[1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"사용자가 허가를 내줬다면, 권한부여 서버는 권한 부여 키(코드 혹은 토큰)와 함께 사용자를 클라이언트로 돌려보내준다.","position":{"start":{"line":38,"column":4,"offset":1297},"end":{"line":38,"column":69,"offset":1362},"indent":[]}}],"position":{"start":{"line":38,"column":4,"offset":1297},"end":{"line":38,"column":69,"offset":1362},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1294},"end":{"line":38,"column":69,"offset":1362},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"클라이언트는 리소스 서버에게 권한 부여 키를 이용하여 사용자의 데이터에 대한 응답을 요청한다.","position":{"start":{"line":39,"column":4,"offset":1366},"end":{"line":39,"column":56,"offset":1418},"indent":[]}}],"position":{"start":{"line":39,"column":4,"offset":1366},"end":{"line":39,"column":56,"offset":1418},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1363},"end":{"line":39,"column":56,"offset":1418},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"리소스 서버는 권한부여 키의 유효성 검사를 한 뛰에 요청된 데이터를 클라이언트에게 보내준다.","position":{"start":{"line":40,"column":4,"offset":1422},"end":{"line":40,"column":55,"offset":1473},"indent":[]}}],"position":{"start":{"line":40,"column":4,"offset":1422},"end":{"line":40,"column":55,"offset":1473},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1419},"end":{"line":40,"column":55,"offset":1473},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":924},"end":{"line":40,"column":55,"offset":1473},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"위에 설명한 내용이 어떻게 사용자가 서드파티 어플리케이션에게 직접 패스워드를 주지 않으면서 사용자의 데이터에 접근할 수 있게 하는지에 대한 방법이다. \n이 시점에서, 아마 다음과 같은 질문이 있을 수 있다.","position":{"start":{"line":42,"column":1,"offset":1475},"end":{"line":43,"column":31,"offset":1590},"indent":[1]}}],"position":{"start":{"line":42,"column":1,"offset":1475},"end":{"line":43,"column":31,"offset":1590},"indent":[1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"어떻게 리소스 서버에서 특정한 데이터에만 접근이 가능하도록 제한할까?","position":{"start":{"line":45,"column":4,"offset":1595},"end":{"line":45,"column":42,"offset":1633},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":1594},"end":{"line":45,"column":43,"offset":1634},"indent":[]}}],"position":{"start":{"line":45,"column":3,"offset":1594},"end":{"line":45,"column":43,"offset":1634},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1592},"end":{"line":45,"column":43,"offset":1634},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"만일 클라이언트가 데이터를 읽기만 바라고 수정하지는 않길 바란다면?","position":{"start":{"line":46,"column":4,"offset":1638},"end":{"line":46,"column":41,"offset":1675},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":1637},"end":{"line":46,"column":42,"offset":1676},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":1637},"end":{"line":46,"column":42,"offset":1676},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1635},"end":{"line":46,"column":42,"offset":1676},"indent":[]}}],"position":{"start":{"line":45,"column":1,"offset":1592},"end":{"line":46,"column":42,"offset":1676},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"이러한 질문들은 OAuth 용어에서 ","position":{"start":{"line":48,"column":1,"offset":1678},"end":{"line":48,"column":21,"offset":1698},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"‘스코프’","position":{"start":{"line":48,"column":23,"offset":1700},"end":{"line":48,"column":28,"offset":1705},"indent":[]}}],"position":{"start":{"line":48,"column":21,"offset":1698},"end":{"line":48,"column":30,"offset":1707},"indent":[]}},{"type":"text","value":"라는 개념을 공부하면 이해 가능하다.","position":{"start":{"line":48,"column":30,"offset":1707},"end":{"line":48,"column":50,"offset":1727},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1678},"end":{"line":48,"column":50,"offset":1727},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#oauth의-스코프","title":null,"children":[],"data":{"hProperties":{"aria-label":"oauth의 스코프 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"OAuth의 스코프","position":{"start":{"line":51,"column":4,"offset":1733},"end":{"line":51,"column":14,"offset":1743},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":1730},"end":{"line":51,"column":14,"offset":1743},"indent":[]},"data":{"id":"oauth의-스코프","htmlAttributes":{"id":"oauth의-스코프"},"hProperties":{"id":"oauth의-스코프","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"OAuth 2.0에서 스코프는 어플리케이션이 사용자 데이터에 접근하는 것을 제한하기 위해 사용된다. \n사용자에 의해 특정 스코프로 ","position":{"start":{"line":53,"column":1,"offset":1745},"end":{"line":54,"column":17,"offset":1818},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"제한된 권한 인가권을 발행","position":{"start":{"line":54,"column":19,"offset":1820},"end":{"line":54,"column":33,"offset":1834},"indent":[]}}],"position":{"start":{"line":54,"column":17,"offset":1818},"end":{"line":54,"column":35,"offset":1836},"indent":[]}},{"type":"text","value":"함으로써 데이터 접근을 제한한다.","position":{"start":{"line":54,"column":35,"offset":1836},"end":{"line":54,"column":53,"offset":1854},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":1745},"end":{"line":54,"column":53,"offset":1854},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"클라이언트가 권한 인가를 위해 권한 부여 서버로 요청을 보낼 때, 클라이언트는 스코프도 함께 보낸다. \n권한 부여 서버는 동의를 구하는 화면을 만들고 사용자로부터 허가를 받기 위해 스코프의 리스트를 사용한다. \n만일 사용자가 동의 화면에서 동의했다면, 그 권한 부여 서버는 유저에 의해 부여된 스코프에 제한된 토큰 또는 권한 부여 코드를 발행한다.","position":{"start":{"line":56,"column":1,"offset":1856},"end":{"line":58,"column":77,"offset":2050},"indent":[1,1]}}],"position":{"start":{"line":56,"column":1,"offset":1856},"end":{"line":58,"column":77,"offset":2050},"indent":[1,1]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"예를들어 만일 클라이언트에게 나의 구글 연락처의 리스트를 볼 수 있게 하기 위해 권한을 부여했다면\n권한 부여 서버로부터 발행되어 클라이언트로 전해진 토큰은 나의 연락처를 삭제하거나 나의 캘린더 이벤트를 볼 수는 없다.\n왜냐하면 오직 구글 연락처를 읽도록 스코프가 설정되어 있기 때문이다.","position":{"start":{"line":60,"column":3,"offset":2054},"end":{"line":62,"column":41,"offset":2218},"indent":[3,3]}}],"position":{"start":{"line":60,"column":3,"offset":2054},"end":{"line":62,"column":41,"offset":2218},"indent":[3,3]}}],"position":{"start":{"line":60,"column":1,"offset":2052},"end":{"line":62,"column":41,"offset":2218},"indent":[1,1]}},{"type":"thematicBreak","position":{"start":{"line":64,"column":1,"offset":2220},"end":{"line":64,"column":4,"offset":2223},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#oauth-20을-위한-셋업","title":null,"children":[],"data":{"hProperties":{"aria-label":"oauth 20을 위한 셋업 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"OAuth 2.0을 위한 셋업","position":{"start":{"line":66,"column":3,"offset":2227},"end":{"line":66,"column":19,"offset":2243},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2225},"end":{"line":66,"column":19,"offset":2243},"indent":[]},"data":{"id":"oauth-20을-위한-셋업","htmlAttributes":{"id":"oauth-20을-위한-셋업"},"hProperties":{"id":"oauth-20을-위한-셋업","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"OAuth 플로우에 대해 배워보기 전에, 몇가지 OAuth 설정에 대해 미리 알아두면 좋다. \n권한 부여를 위한 요청이 초기화되었을 때, 클라이언트가 몇가지 설정 데이터를 권한부여 서버에게 쿼리 파라미터로 보낸다. 기본적인 쿼리 파라미터는 다음과 같다.","position":{"start":{"line":68,"column":1,"offset":2245},"end":{"line":69,"column":89,"offset":2386},"indent":[1]}}],"position":{"start":{"line":68,"column":1,"offset":2245},"end":{"line":69,"column":89,"offset":2386},"indent":[1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">response_type</code>","position":{"start":{"line":71,"column":3,"offset":2390},"end":{"line":71,"column":18,"offset":2405},"indent":[]}},{"type":"text","value":" : 우리가 권한부여 서버로부터 받길 원하는 응답의 타입이다.","position":{"start":{"line":71,"column":18,"offset":2405},"end":{"line":71,"column":52,"offset":2439},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":2390},"end":{"line":71,"column":52,"offset":2439},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2388},"end":{"line":71,"column":52,"offset":2439},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">scope</code>","position":{"start":{"line":72,"column":3,"offset":2442},"end":{"line":72,"column":10,"offset":2449},"indent":[]}},{"type":"text","value":" : 클라이언트가 접근하길 원하는 리스트의 스코프이다. 이 리스트는 동의를 구하는 화면을 만들 때 권한부여 서버에 의해 사용된다.","position":{"start":{"line":72,"column":10,"offset":2449},"end":{"line":72,"column":82,"offset":2521},"indent":[]}}],"position":{"start":{"line":72,"column":3,"offset":2442},"end":{"line":72,"column":82,"offset":2521},"indent":[]}}],"position":{"start":{"line":72,"column":1,"offset":2440},"end":{"line":72,"column":82,"offset":2521},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">client_id</code>","position":{"start":{"line":73,"column":3,"offset":2524},"end":{"line":73,"column":14,"offset":2535},"indent":[]}},{"type":"text","value":" : 클라이언트에 OAuth 세팅을 할 때, 권한부여 서버에 의해 제공된다. 이 ID는 권한 부여 서버가 OAuth 플로우를 시행하려는 클라이언트가 누구인지 알아내기 위해 사용된다.","position":{"start":{"line":73,"column":14,"offset":2535},"end":{"line":73,"column":115,"offset":2636},"indent":[]}}],"position":{"start":{"line":73,"column":3,"offset":2524},"end":{"line":73,"column":115,"offset":2636},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2522},"end":{"line":73,"column":115,"offset":2636},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">redirect_url</code>","position":{"start":{"line":74,"column":3,"offset":2639},"end":{"line":74,"column":17,"offset":2653},"indent":[]}},{"type":"text","value":" : 권한부여 서버에게 OAuth 플로우가 끝나면 어디로 보내줄지에 대해 알려주는 역할이다.","position":{"start":{"line":74,"column":17,"offset":2653},"end":{"line":74,"column":68,"offset":2704},"indent":[]}}],"position":{"start":{"line":74,"column":3,"offset":2639},"end":{"line":74,"column":68,"offset":2704},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":2637},"end":{"line":74,"column":68,"offset":2704},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">client_secret</code>","position":{"start":{"line":75,"column":3,"offset":2707},"end":{"line":75,"column":18,"offset":2722},"indent":[]}},{"type":"text","value":" : 권한부여 서버에 의해 제공된다. OAuth 플로우에서 이 파라미터는 필수 옵션은 아니다. 권한부여 코드 플로우에서 이 ","position":{"start":{"line":75,"column":18,"offset":2722},"end":{"line":75,"column":87,"offset":2791},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">client_secret</code>","position":{"start":{"line":75,"column":87,"offset":2791},"end":{"line":75,"column":102,"offset":2806},"indent":[]}},{"type":"text","value":"의 중요성에 대해 알아볼 것이다.","position":{"start":{"line":75,"column":102,"offset":2806},"end":{"line":75,"column":120,"offset":2824},"indent":[]}}],"position":{"start":{"line":75,"column":3,"offset":2707},"end":{"line":75,"column":120,"offset":2824},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":2705},"end":{"line":75,"column":120,"offset":2824},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2388},"end":{"line":75,"column":120,"offset":2824},"indent":[1,1,1,1]}},{"type":"thematicBreak","position":{"start":{"line":77,"column":1,"offset":2826},"end":{"line":77,"column":4,"offset":2829},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#다른-oauth-플로우들-이해하기","title":null,"children":[],"data":{"hProperties":{"aria-label":"다른 oauth 플로우들 이해하기 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"다른 OAuth 플로우들 이해하기","position":{"start":{"line":79,"column":3,"offset":2833},"end":{"line":79,"column":21,"offset":2851},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2831},"end":{"line":79,"column":21,"offset":2851},"indent":[]},"data":{"id":"다른-oauth-플로우들-이해하기","htmlAttributes":{"id":"다른-oauth-플로우들-이해하기"},"hProperties":{"id":"다른-oauth-플로우들-이해하기","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"가장 흔하게 쓰이는 두가지 OAuth 2.0 플로우는 2가지가 있다. ","position":{"start":{"line":81,"column":1,"offset":2853},"end":{"line":81,"column":40,"offset":2892},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":2853},"end":{"line":81,"column":40,"offset":2892},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"서버를 베이스로한 어플리케이션을 위한 권한부여 코드 플로우","position":{"start":{"line":82,"column":4,"offset":2896},"end":{"line":82,"column":36,"offset":2928},"indent":[]}}],"position":{"start":{"line":82,"column":4,"offset":2896},"end":{"line":82,"column":36,"offset":2928},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":2893},"end":{"line":82,"column":36,"offset":2928},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"순수한 자바스크립트 Single Page Application(SPA)을 위한 암묵적인 플로우","position":{"start":{"line":83,"column":4,"offset":2932},"end":{"line":83,"column":56,"offset":2984},"indent":[]}}],"position":{"start":{"line":83,"column":4,"offset":2932},"end":{"line":83,"column":56,"offset":2984},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2929},"end":{"line":83,"column":56,"offset":2984},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":2893},"end":{"line":83,"column":56,"offset":2984},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"이 글에서는 서버를 베이스로 한 권한부여 코드 플로우만 설명한다. \n쉬운 설명을 위해 OAuth 플로우를 설명하면서, 구글을 OAuth 서비스 제공자로 가정하면서 설명하겠다.","position":{"start":{"line":85,"column":1,"offset":2986},"end":{"line":86,"column":60,"offset":3083},"indent":[1]}}],"position":{"start":{"line":85,"column":1,"offset":2986},"end":{"line":86,"column":60,"offset":3083},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#권한부여-코드-플로우","title":null,"children":[],"data":{"hProperties":{"aria-label":"권한부여 코드 플로우 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"권한부여 코드 플로우","position":{"start":{"line":89,"column":4,"offset":3089},"end":{"line":89,"column":15,"offset":3100},"indent":[]}}],"position":{"start":{"line":89,"column":1,"offset":3086},"end":{"line":89,"column":15,"offset":3100},"indent":[]},"data":{"id":"권한부여-코드-플로우","htmlAttributes":{"id":"권한부여-코드-플로우"},"hProperties":{"id":"권한부여-코드-플로우","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"권한부여 코드 플로우 또는 권한부여 코드 부여는 보안성을 높이기 위해서 이상적인 OAuth 플로우로 여겨진다. \n왜냐하면 OAuth 2.0 매커니즘을 구현하기 위해서 프론트엔드 채널도 이용하고, 백엔드 채널도 이용하기 때문이다.","position":{"start":{"line":91,"column":1,"offset":3102},"end":{"line":92,"column":65,"offset":3229},"indent":[1]}}],"position":{"start":{"line":91,"column":1,"offset":3102},"end":{"line":92,"column":65,"offset":3229},"indent":[1]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://user-images.githubusercontent.com/55419159/151649535-863d10a3-ee1c-49ff-a145-00c830a69e0b.png","alt":"image","position":{"start":{"line":94,"column":1,"offset":3231},"end":{"line":94,"column":112,"offset":3342},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":3231},"end":{"line":94,"column":112,"offset":3342},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"잘보면 권한코드를 부여하고 그 권한 코드를 엑세스 토큰으로 변경하는 부분이 추가되었다.","position":{"start":{"line":96,"column":1,"offset":3344},"end":{"line":96,"column":49,"offset":3392},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":3344},"end":{"line":96,"column":49,"offset":3392},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"클라이언트는 ","position":{"start":{"line":98,"column":1,"offset":3394},"end":{"line":98,"column":8,"offset":3401},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"code","position":{"start":{"line":98,"column":10,"offset":3403},"end":{"line":98,"column":14,"offset":3407},"indent":[]}}],"position":{"start":{"line":98,"column":8,"offset":3401},"end":{"line":98,"column":16,"offset":3409},"indent":[]}},{"type":"text","value":"라고 세팅된 ","position":{"start":{"line":98,"column":16,"offset":3409},"end":{"line":98,"column":23,"offset":3416},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">response_type</code>","position":{"start":{"line":98,"column":23,"offset":3416},"end":{"line":98,"column":38,"offset":3431},"indent":[]}},{"type":"text","value":"과 함께 사용자를 권한부여 서버로 리다이렉팅함으로써 권한 부여 시퀀스를 시작한다. \n이게 의미하는 바는 권한부여 서버에게 권한부여 코드로 응답하라는 것을 말한다. 이 플로우에 대한 URI는 다음과 같이 생겼다.","position":{"start":{"line":98,"column":38,"offset":3431},"end":{"line":99,"column":71,"offset":3548},"indent":[1]}}],"position":{"start":{"line":98,"column":1,"offset":3394},"end":{"line":99,"column":71,"offset":3548},"indent":[1]}},{"type":"html","lang":"text","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">https://accounts.google.com/o/oauth2/v2/auth?\nresponse_type=code&amp;\nclient_id=your_client_id&amp;\nscope=profile%20contacts&amp;\nredirect_uri=https%3A//oauth2.example.com/code</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":101,"column":1,"offset":3550},"end":{"line":107,"column":4,"offset":3726},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"위 요청에서, 클라이언트는 요청의 ","position":{"start":{"line":109,"column":1,"offset":3728},"end":{"line":109,"column":20,"offset":3747},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">scope</code>","position":{"start":{"line":109,"column":20,"offset":3747},"end":{"line":109,"column":27,"offset":3754},"indent":[]}},{"type":"text","value":" 파라미터에 인자를 보냄으로써, 사용자의 공개 프로필과 연락처에 접근할 수 있는 사용자의 권한을 요구한다. \n이 요청의 결과는 액세스 토큰으로 변환 가능한 권한 부여 코드이다. 권한부여 코드는 다음과 같이 생겼다.","position":{"start":{"line":109,"column":27,"offset":3754},"end":{"line":110,"column":59,"offset":3873},"indent":[1]}}],"position":{"start":{"line":109,"column":1,"offset":3728},"end":{"line":110,"column":59,"offset":3873},"indent":[1]}},{"type":"html","lang":"text","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">4/W7q7P51a-iMsCeLvIaQc6bYrgtp9</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","position":{"start":{"line":112,"column":1,"offset":3875},"end":{"line":114,"column":4,"offset":3917},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#왜-코드를-토큰으로-바꾸는-것일까","title":null,"children":[],"data":{"hProperties":{"aria-label":"왜 코드를 토큰으로 바꾸는 것일까 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"왜 코드를 토큰으로 바꾸는 것일까?","position":{"start":{"line":116,"column":4,"offset":3922},"end":{"line":116,"column":23,"offset":3941},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":3919},"end":{"line":116,"column":23,"offset":3941},"indent":[]},"data":{"id":"왜-코드를-토큰으로-바꾸는-것일까","htmlAttributes":{"id":"왜-코드를-토큰으로-바꾸는-것일까"},"hProperties":{"id":"왜-코드를-토큰으로-바꾸는-것일까","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"액세스 토큰은 리소스 서버에 존재하는 데이터에 접근하기 위한 유일한 것이다. \n하지만 어플리케이션 코드는 아니다. 그래서 왜 액세스 토큰이 필요할 때, 클라이언트가 ","position":{"start":{"line":118,"column":1,"offset":3943},"end":{"line":119,"column":49,"offset":4035},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">response_type</code>","position":{"start":{"line":119,"column":49,"offset":4035},"end":{"line":119,"column":64,"offset":4050},"indent":[]}},{"type":"text","value":"을 ","position":{"start":{"line":119,"column":64,"offset":4050},"end":{"line":119,"column":66,"offset":4052},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"code","position":{"start":{"line":119,"column":68,"offset":4054},"end":{"line":119,"column":72,"offset":4058},"indent":[]}}],"position":{"start":{"line":119,"column":66,"offset":4052},"end":{"line":119,"column":74,"offset":4060},"indent":[]}},{"type":"text","value":"로 세팅하는 것일까?","position":{"start":{"line":119,"column":74,"offset":4060},"end":{"line":119,"column":85,"offset":4071},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":3943},"end":{"line":119,"column":85,"offset":4071},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"이유는 ","position":{"start":{"line":121,"column":1,"offset":4073},"end":{"line":121,"column":5,"offset":4077},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"OAuth 플로우의 보안성을 높게 만들기 위해서","position":{"start":{"line":121,"column":7,"offset":4079},"end":{"line":121,"column":33,"offset":4105},"indent":[]}}],"position":{"start":{"line":121,"column":5,"offset":4077},"end":{"line":121,"column":35,"offset":4107},"indent":[]}},{"type":"text","value":"이다.","position":{"start":{"line":121,"column":35,"offset":4107},"end":{"line":121,"column":38,"offset":4110},"indent":[]}}],"position":{"start":{"line":121,"column":1,"offset":4073},"end":{"line":121,"column":38,"offset":4110},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"문제","position":{"start":{"line":124,"column":5,"offset":4117},"end":{"line":124,"column":7,"offset":4119},"indent":[]}}],"position":{"start":{"line":124,"column":3,"offset":4115},"end":{"line":124,"column":9,"offset":4121},"indent":[]}},{"type":"text","value":": 액세스 토큰은 다른 사람이 접근하면 안되는 정보의 비밀스러운 부분이다. \n만일 클라이언트가 액세스 토큰을 직접적으로 요청하고 브라우저에 갖고 있게 되면 탈취당할 수 있다. \n왜냐하면 브라우저는 완전히 보안이 되어있진 않으니까. 다른 사람이 페이지 소스 또는 잠재적으로 개발자 도구로 액세스 토큰을 얻어갈 수 있다.","position":{"start":{"line":124,"column":9,"offset":4121},"end":{"line":126,"column":79,"offset":4298},"indent":[1,1]}}],"position":{"start":{"line":124,"column":3,"offset":4115},"end":{"line":126,"column":79,"offset":4298},"indent":[1,1]}}],"position":{"start":{"line":124,"column":1,"offset":4113},"end":{"line":127,"column":1,"offset":4299},"indent":[1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"해결방법","position":{"start":{"line":128,"column":5,"offset":4304},"end":{"line":128,"column":9,"offset":4308},"indent":[]}}],"position":{"start":{"line":128,"column":3,"offset":4302},"end":{"line":128,"column":11,"offset":4310},"indent":[]}},{"type":"text","value":": 브라우저에서 액세스 토큰 노출을 방지하기 위해서, 클라이언트의 프론트엔드 채널은 권한 부여 서버로부터 어플리케이션 코드를 얻는다. \n그리고 어플리케이션 코드를 백엔드 채널로 보낸다. 어플리케이션 코드를 액세스 토큰으로 바꾸기 위해서, client","position":{"start":{"line":128,"column":11,"offset":4310},"end":{"line":129,"column":64,"offset":4449},"indent":[1]}},{"type":"emphasis","children":[{"type":"text","value":"secret이 필요하다. \nclient","position":{"start":{"line":129,"column":65,"offset":4450},"end":{"line":130,"column":7,"offset":4471},"indent":[1]}}],"position":{"start":{"line":129,"column":64,"offset":4449},"end":{"line":130,"column":8,"offset":4472},"indent":[1]}},{"type":"text","value":"secret은 클라이언트의 백엔드 채널에 의해서만 알려지게 되며, 프론트엔드 채널은 client_secret에 관여하지 않는다.","position":{"start":{"line":130,"column":8,"offset":4472},"end":{"line":130,"column":79,"offset":4543},"indent":[]}}],"position":{"start":{"line":128,"column":3,"offset":4302},"end":{"line":130,"column":79,"offset":4543},"indent":[1,1]}}],"position":{"start":{"line":128,"column":1,"offset":4300},"end":{"line":130,"column":79,"offset":4543},"indent":[1,1]}}],"position":{"start":{"line":124,"column":1,"offset":4113},"end":{"line":130,"column":79,"offset":4543},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"백엔드 채널은 POST 요청을 권한부여 서버에 어플리케이션 코드와 어플리케이션 코드를 동봉해서 보낸다. 요청은 다음과 같이 보내진다.","position":{"start":{"line":132,"column":1,"offset":4545},"end":{"line":132,"column":75,"offset":4619},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":4545},"end":{"line":132,"column":75,"offset":4619},"indent":[]}},{"type":"html","lang":"text","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">POST /token HTTP/1.1\nHost: oauth2.googleapis.com\nContent-Type: application/x-www-form-urlencoded\n\ncode=4/W7q7P51a-iMsCeLvIaQc6bYrgtp9&amp;\nclient_id=your_client_id&amp;\nclient_secret==your_client_secret_only_known_by_server&amp;\nredirect_url=https%3A//oauth2.example.com/code</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":134,"column":1,"offset":4621},"end":{"line":143,"column":4,"offset":4896},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"권한 부여 서버는 ","position":{"start":{"line":145,"column":1,"offset":4898},"end":{"line":145,"column":11,"offset":4908},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">client_secret</code>","position":{"start":{"line":145,"column":11,"offset":4908},"end":{"line":145,"column":26,"offset":4923},"indent":[]}},{"type":"text","value":"과 ","position":{"start":{"line":145,"column":26,"offset":4923},"end":{"line":145,"column":28,"offset":4925},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">application code</code>","position":{"start":{"line":145,"column":28,"offset":4925},"end":{"line":145,"column":46,"offset":4943},"indent":[]}},{"type":"text","value":"의 유효성을 검사하고 액세스 토큰을 보내준다. \n백엔드 채널은 액세스 토큰을 갖고 있고 이 토큰을 리소스 서버에서 정보를 갖고올 때 사용한다. \n이러한 방법으로 브라우저는 액세스 토큰에 접근하지 않는 방식으로 구현할 수 있다.","position":{"start":{"line":145,"column":46,"offset":4943},"end":{"line":147,"column":46,"offset":5069},"indent":[1,1]}}],"position":{"start":{"line":145,"column":1,"offset":4898},"end":{"line":147,"column":46,"offset":5069},"indent":[1,1]}},{"type":"thematicBreak","position":{"start":{"line":149,"column":1,"offset":5071},"end":{"line":149,"column":4,"offset":5074},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#인증authentication-vs-권한-부여authorization","title":null,"children":[],"data":{"hProperties":{"aria-label":"인증authentication vs 권한 부여authorization permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"인증(Authentication) vs 권한 부여(Authorization)","position":{"start":{"line":151,"column":3,"offset":5078},"end":{"line":151,"column":45,"offset":5120},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":5076},"end":{"line":151,"column":45,"offset":5120},"indent":[]},"data":{"id":"인증authentication-vs-권한-부여authorization","htmlAttributes":{"id":"인증authentication-vs-권한-부여authorization"},"hProperties":{"id":"인증authentication-vs-권한-부여authorization","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"우리가 알고있듯, OAuth는 위임된 권한부여 문제를 해결해준다. \n하지만 이 방법은 사용자 인증을 위한 표준 방법을 제공해주진 않는다. \n우리는 다음과 같이 말할 수 있다.","position":{"start":{"line":153,"column":1,"offset":5122},"end":{"line":155,"column":20,"offset":5219},"indent":[1,1]}}],"position":{"start":{"line":153,"column":1,"offset":5122},"end":{"line":155,"column":20,"offset":5219},"indent":[1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"OAuth 2.0","position":{"start":{"line":157,"column":5,"offset":5225},"end":{"line":157,"column":14,"offset":5234},"indent":[]}}],"position":{"start":{"line":157,"column":3,"offset":5223},"end":{"line":157,"column":16,"offset":5236},"indent":[]}},{"type":"text","value":"은 권한 부여를 위한 것이다.","position":{"start":{"line":157,"column":16,"offset":5236},"end":{"line":157,"column":32,"offset":5252},"indent":[]}}],"position":{"start":{"line":157,"column":3,"offset":5223},"end":{"line":157,"column":32,"offset":5252},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":5221},"end":{"line":157,"column":32,"offset":5252},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"OpenID Connect","position":{"start":{"line":158,"column":5,"offset":5257},"end":{"line":158,"column":19,"offset":5271},"indent":[]}}],"position":{"start":{"line":158,"column":3,"offset":5255},"end":{"line":158,"column":21,"offset":5273},"indent":[]}},{"type":"text","value":"는 인증을 위한 것이다.","position":{"start":{"line":158,"column":21,"offset":5273},"end":{"line":158,"column":34,"offset":5286},"indent":[]}}],"position":{"start":{"line":158,"column":3,"offset":5255},"end":{"line":158,"column":34,"offset":5286},"indent":[]}}],"position":{"start":{"line":158,"column":1,"offset":5253},"end":{"line":158,"column":34,"offset":5286},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":5221},"end":{"line":158,"column":34,"offset":5286},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"아마 ‘권한 부여’와 ‘인증’이 헷갈릴 수 있는데, 차이점은 다음과 같다.","position":{"start":{"line":160,"column":1,"offset":5288},"end":{"line":160,"column":42,"offset":5329},"indent":[]}}],"position":{"start":{"line":160,"column":1,"offset":5288},"end":{"line":160,"column":42,"offset":5329},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"인증(Authentication)","position":{"start":{"line":162,"column":5,"offset":5335},"end":{"line":162,"column":23,"offset":5353},"indent":[]}}],"position":{"start":{"line":162,"column":3,"offset":5333},"end":{"line":162,"column":25,"offset":5355},"indent":[]}},{"type":"text","value":"은 내가 소통하는 주체가 어떤 것인지 확신하는 것이다.","position":{"start":{"line":162,"column":25,"offset":5355},"end":{"line":162,"column":55,"offset":5385},"indent":[]}}],"position":{"start":{"line":162,"column":3,"offset":5333},"end":{"line":162,"column":55,"offset":5385},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":5331},"end":{"line":162,"column":55,"offset":5385},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"권한 부여(Authorization)","position":{"start":{"line":163,"column":5,"offset":5390},"end":{"line":163,"column":25,"offset":5410},"indent":[]}}],"position":{"start":{"line":163,"column":3,"offset":5388},"end":{"line":163,"column":27,"offset":5412},"indent":[]}},{"type":"text","value":"는 소통하는 주체가 리소스에 접근할 수 있는지 아닌지에 대해 확인하는 프로세스이다.","position":{"start":{"line":163,"column":27,"offset":5412},"end":{"line":163,"column":73,"offset":5458},"indent":[]}}],"position":{"start":{"line":163,"column":3,"offset":5388},"end":{"line":163,"column":73,"offset":5458},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":5386},"end":{"line":163,"column":73,"offset":5458},"indent":[]}}],"position":{"start":{"line":162,"column":1,"offset":5331},"end":{"line":163,"column":73,"offset":5458},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"authentication(인증)은 ","position":{"start":{"line":165,"column":1,"offset":5460},"end":{"line":165,"column":21,"offset":5480},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"당신이 누구인지","position":{"start":{"line":165,"column":23,"offset":5482},"end":{"line":165,"column":31,"offset":5490},"indent":[]}}],"position":{"start":{"line":165,"column":21,"offset":5480},"end":{"line":165,"column":33,"offset":5492},"indent":[]}},{"type":"text","value":"에 대한 것이고, authorization(권한 부여)은 ","position":{"start":{"line":165,"column":33,"offset":5492},"end":{"line":165,"column":65,"offset":5524},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"당신이 어떤 권한을 가졌는지","position":{"start":{"line":165,"column":67,"offset":5526},"end":{"line":165,"column":82,"offset":5541},"indent":[]}}],"position":{"start":{"line":165,"column":65,"offset":5524},"end":{"line":165,"column":84,"offset":5543},"indent":[]}},{"type":"text","value":"에 대한 것이다.","position":{"start":{"line":165,"column":84,"offset":5543},"end":{"line":165,"column":93,"offset":5552},"indent":[]}}],"position":{"start":{"line":165,"column":1,"offset":5460},"end":{"line":165,"column":93,"offset":5552},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":167,"column":1,"offset":5554},"end":{"line":167,"column":4,"offset":5557},"indent":[]}},{"type":"heading","depth":1,"children":[{"type":"link","url":"#openid-connect란","title":null,"children":[],"data":{"hProperties":{"aria-label":"openid connect란 permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"OpenID Connect란","position":{"start":{"line":169,"column":3,"offset":5561},"end":{"line":169,"column":18,"offset":5576},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":5559},"end":{"line":169,"column":18,"offset":5576},"indent":[]},"data":{"id":"openid-connect란","htmlAttributes":{"id":"openid-connect란"},"hProperties":{"id":"openid-connect란","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"OpenID Connect는 OAuth 2.0 프로토콜의 ","position":{"start":{"line":171,"column":1,"offset":5578},"end":{"line":171,"column":33,"offset":5610},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"최상위 레이어와 동일한 레이어","position":{"start":{"line":171,"column":35,"offset":5612},"end":{"line":171,"column":51,"offset":5628},"indent":[]}}],"position":{"start":{"line":171,"column":33,"offset":5610},"end":{"line":171,"column":53,"offset":5630},"indent":[]}},{"type":"text","value":"다. \nOpenID Connect는 ","position":{"start":{"line":171,"column":53,"offset":5630},"end":{"line":172,"column":17,"offset":5650},"indent":[1]}},{"type":"strong","children":[{"type":"text","value":"OAuth 2.0을 확장","position":{"start":{"line":172,"column":19,"offset":5652},"end":{"line":172,"column":32,"offset":5665},"indent":[]}}],"position":{"start":{"line":172,"column":17,"offset":5650},"end":{"line":172,"column":34,"offset":5667},"indent":[]}},{"type":"text","value":"하여 인증 방식을 표준화한다.","position":{"start":{"line":172,"column":34,"offset":5667},"end":{"line":172,"column":50,"offset":5683},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":5578},"end":{"line":172,"column":50,"offset":5683},"indent":[1]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://user-images.githubusercontent.com/55419159/151649045-24d98904-6dce-41fb-8a36-c7dd30db2c11.png","alt":"image","position":{"start":{"line":174,"column":1,"offset":5685},"end":{"line":174,"column":112,"offset":5796},"indent":[]}}],"position":{"start":{"line":174,"column":1,"offset":5685},"end":{"line":174,"column":112,"offset":5796},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"OAuth는 유저 인증을 곧바로 제공하지 않지만 권한 부여를 위한 엑세스 토큰을 제공한다. \nOpenID Connect는 권한부여 서버에 의해 작동하는 인증 시스템을 기반으로 클라이언트가 사용자를 판단할 수 있게 해준다. \n권한부여 서버에 유저 로그인과 동의를 요청할 때, openid라는 스코프를 정의하면 OpenID Connect 사용이 가능하다. \nopenid는 OpenID가 필요되는 권한부여 서버에 필수적인 스코프이다.","position":{"start":{"line":177,"column":1,"offset":5799},"end":{"line":180,"column":42,"offset":6038},"indent":[1,1,1]}}],"position":{"start":{"line":177,"column":1,"offset":5799},"end":{"line":180,"column":42,"offset":6038},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"OpenID Connect 인증을 위한 URI 요청은 다음과 같이 만들어진다.","position":{"start":{"line":182,"column":1,"offset":6040},"end":{"line":182,"column":44,"offset":6083},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":6040},"end":{"line":182,"column":44,"offset":6083},"indent":[]}},{"type":"html","lang":"text","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">https://accounts.google.com/o/oauth2/v2/auth?\nresponse_type=code&amp;\nclient_id=your_client_id&amp;\nscope=openid%20contacts&amp;\nredirect_uri=https%3A//oauth2.example.com/code</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":184,"column":1,"offset":6085},"end":{"line":190,"column":4,"offset":6260},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"이 요청의 결과는 액세스 토큰과 ID 토큰으로 바꿀 수 있는 어플리케이션 코드이다. \nOAuth 플로우가 암묵적 플로우면, 서버는 액세스 토큰과 ID 토큰을 바로 줄 것이다.","position":{"start":{"line":192,"column":1,"offset":6262},"end":{"line":193,"column":50,"offset":6359},"indent":[1]}}],"position":{"start":{"line":192,"column":1,"offset":6262},"end":{"line":193,"column":50,"offset":6359},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"ID 토큰은 JWT 또는 JSON 웹 토큰이다. \nJWT는 header, payload, signature 3가지 부분이 담겨있는 인코드된 토큰이다. \nID 토큰을 얻은 이후에, 클라이언트는 payload 부분에 인코드된 사용자 정보를 얻을지 결정할 수 있다.","position":{"start":{"line":195,"column":1,"offset":6361},"end":{"line":197,"column":61,"offset":6506},"indent":[1,1]}}],"position":{"start":{"line":195,"column":1,"offset":6361},"end":{"line":197,"column":61,"offset":6506},"indent":[1,1]}},{"type":"html","lang":"json","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n<span class=\"token property\">\"iss\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://accounts.google.com\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"sub\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10965150351106250715113082368\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"johndoe@example.com\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"iat\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1516239022</span><span class=\"token punctuation\">,</span>\n<span class=\"token property\">\"exp\"</span><span class=\"token operator\">:</span> <span class=\"token number\">1516242922</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":199,"column":1,"offset":6508},"end":{"line":207,"column":4,"offset":6670},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#claims","title":null,"children":[],"data":{"hProperties":{"aria-label":"claims permalink","class":"anchor-header before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Claims","position":{"start":{"line":209,"column":4,"offset":6675},"end":{"line":209,"column":10,"offset":6681},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":6672},"end":{"line":209,"column":10,"offset":6681},"indent":[]},"data":{"id":"claims","htmlAttributes":{"id":"claims"},"hProperties":{"id":"claims","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"ID 토큰이 갖고 있는 payload는 ","position":{"start":{"line":210,"column":1,"offset":6682},"end":{"line":210,"column":23,"offset":6704},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">claims</code>","position":{"start":{"line":210,"column":23,"offset":6704},"end":{"line":210,"column":31,"offset":6712},"indent":[]}},{"type":"text","value":"라 알려진 어떤 필드들을 포함한다. 기본적인 ","position":{"start":{"line":210,"column":31,"offset":6712},"end":{"line":210,"column":56,"offset":6737},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">claims</code>","position":{"start":{"line":210,"column":56,"offset":6737},"end":{"line":210,"column":64,"offset":6745},"indent":[]}},{"type":"text","value":"는 다음과 같다.","position":{"start":{"line":210,"column":64,"offset":6745},"end":{"line":210,"column":73,"offset":6754},"indent":[]}}],"position":{"start":{"line":210,"column":1,"offset":6682},"end":{"line":210,"column":73,"offset":6754},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">iss</code>","position":{"start":{"line":212,"column":3,"offset":6758},"end":{"line":212,"column":8,"offset":6763},"indent":[]}},{"type":"text","value":": 토큰 발행자","position":{"start":{"line":212,"column":8,"offset":6763},"end":{"line":212,"column":16,"offset":6771},"indent":[]}}],"position":{"start":{"line":212,"column":3,"offset":6758},"end":{"line":212,"column":16,"offset":6771},"indent":[]}}],"position":{"start":{"line":212,"column":1,"offset":6756},"end":{"line":212,"column":16,"offset":6771},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">sub</code>","position":{"start":{"line":213,"column":3,"offset":6774},"end":{"line":213,"column":8,"offset":6779},"indent":[]}},{"type":"text","value":": 사용자를 구분하기 위한 유니크한 구분자","position":{"start":{"line":213,"column":8,"offset":6779},"end":{"line":213,"column":31,"offset":6802},"indent":[]}}],"position":{"start":{"line":213,"column":3,"offset":6774},"end":{"line":213,"column":31,"offset":6802},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":6772},"end":{"line":213,"column":31,"offset":6802},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">email</code>","position":{"start":{"line":214,"column":3,"offset":6805},"end":{"line":214,"column":10,"offset":6812},"indent":[]}},{"type":"text","value":": 사용자의 이메일","position":{"start":{"line":214,"column":10,"offset":6812},"end":{"line":214,"column":20,"offset":6822},"indent":[]}}],"position":{"start":{"line":214,"column":3,"offset":6805},"end":{"line":214,"column":20,"offset":6822},"indent":[]}}],"position":{"start":{"line":214,"column":1,"offset":6803},"end":{"line":214,"column":20,"offset":6822},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">iat</code>","position":{"start":{"line":215,"column":3,"offset":6825},"end":{"line":215,"column":8,"offset":6830},"indent":[]}},{"type":"text","value":": 토큰이 발행되는 시간을 Unix time으로 표기한 것","position":{"start":{"line":215,"column":8,"offset":6830},"end":{"line":215,"column":40,"offset":6862},"indent":[]}}],"position":{"start":{"line":215,"column":3,"offset":6825},"end":{"line":215,"column":40,"offset":6862},"indent":[]}}],"position":{"start":{"line":215,"column":1,"offset":6823},"end":{"line":215,"column":40,"offset":6862},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">exp</code>","position":{"start":{"line":216,"column":3,"offset":6865},"end":{"line":216,"column":8,"offset":6870},"indent":[]}},{"type":"text","value":": 토큰이 만료되는 시간을 Unix time으로 표기한 것","position":{"start":{"line":216,"column":8,"offset":6870},"end":{"line":216,"column":40,"offset":6902},"indent":[]}}],"position":{"start":{"line":216,"column":3,"offset":6865},"end":{"line":216,"column":40,"offset":6902},"indent":[]}}],"position":{"start":{"line":216,"column":1,"offset":6863},"end":{"line":216,"column":40,"offset":6902},"indent":[]}}],"position":{"start":{"line":212,"column":1,"offset":6756},"end":{"line":216,"column":40,"offset":6902},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"하지만, claims는 이러한 영역에 제한된 것이 아니다. \n권한부여 서버에서 어떻게 ","position":{"start":{"line":218,"column":1,"offset":6904},"end":{"line":219,"column":15,"offset":6952},"indent":[1]}},{"type":"html","value":"<code class=\"language-text\">claims</code>","position":{"start":{"line":219,"column":15,"offset":6952},"end":{"line":219,"column":23,"offset":6960},"indent":[]}},{"type":"text","value":"를 인코드할 것인지에 달린 것이다. \n클라이언트는 이러한 정보를 이용하여 사용자를 인증할 수 있다.","position":{"start":{"line":219,"column":23,"offset":6960},"end":{"line":220,"column":35,"offset":7015},"indent":[1]}}],"position":{"start":{"line":218,"column":1,"offset":6904},"end":{"line":220,"column":35,"offset":7015},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"만일 클라이언트가 더 많은 사용자 정보를 원한다면, \n클라이언트는 표준 OpenID Connect 스코프에 더 많은 것들을 기재하여 권한 부여 서버에게 ID Token의 payload에 필요한 것들을 더 추가하라고 할 수 있다. \n이러한 스코프는 ","position":{"start":{"line":222,"column":1,"offset":7017},"end":{"line":224,"column":10,"offset":7155},"indent":[1,1]}},{"type":"strong","children":[{"type":"text","value":"email","position":{"start":{"line":224,"column":12,"offset":7157},"end":{"line":224,"column":17,"offset":7162},"indent":[]}}],"position":{"start":{"line":224,"column":10,"offset":7155},"end":{"line":224,"column":19,"offset":7164},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":224,"column":19,"offset":7164},"end":{"line":224,"column":21,"offset":7166},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"address","position":{"start":{"line":224,"column":23,"offset":7168},"end":{"line":224,"column":30,"offset":7175},"indent":[]}}],"position":{"start":{"line":224,"column":21,"offset":7166},"end":{"line":224,"column":32,"offset":7177},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":224,"column":32,"offset":7177},"end":{"line":224,"column":34,"offset":7179},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"phone","position":{"start":{"line":224,"column":36,"offset":7181},"end":{"line":224,"column":41,"offset":7186},"indent":[]}}],"position":{"start":{"line":224,"column":34,"offset":7179},"end":{"line":224,"column":43,"offset":7188},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":224,"column":43,"offset":7188},"end":{"line":224,"column":45,"offset":7190},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"profile","position":{"start":{"line":224,"column":47,"offset":7192},"end":{"line":224,"column":54,"offset":7199},"indent":[]}}],"position":{"start":{"line":224,"column":45,"offset":7190},"end":{"line":224,"column":56,"offset":7201},"indent":[]}},{"type":"text","value":" 등이다.","position":{"start":{"line":224,"column":56,"offset":7201},"end":{"line":224,"column":61,"offset":7206},"indent":[]}}],"position":{"start":{"line":222,"column":1,"offset":7017},"end":{"line":224,"column":61,"offset":7206},"indent":[1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":224,"column":61,"offset":7206}}}}